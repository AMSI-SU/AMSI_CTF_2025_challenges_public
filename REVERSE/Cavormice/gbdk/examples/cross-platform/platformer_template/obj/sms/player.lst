                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler 
                                      3 ; Version 4.4.1 #14650 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module player
                                      6 	.optsdcc -mz80
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl b_UpdatePlayer
                                     12 	.globl _UpdatePlayer
                                     13 	.globl _DrawPlayer
                                     14 	.globl b_SetupPlayer
                                     15 	.globl _SetupPlayer
                                     16 	.globl _SetPlayerPalettes
                                     17 	.globl _UpdatePlayerVRAMTiles
                                     18 	.globl _IsTileSolid
                                     19 	.globl _set_sprite_native_data
                                     20 	.globl _set_palette
                                     21 	.globl _threeFrameCounter
                                     22 	.globl _playerJumpIncrease
                                     23 	.globl _facingRight
                                     24 	.globl _playerYVelocity
                                     25 	.globl _playerXVelocity
                                     26 	.globl _playerY
                                     27 	.globl _playerX
                                     28 	.globl _PlayerPalettesGGSMS
                                     29 	.globl _baseProp
                                     30 ;--------------------------------------------------------
                                     31 ; special function registers
                                     32 ;--------------------------------------------------------
                         00000000    33 _GG_STATE	=	0x0000
                         00000001    34 _GG_EXT_7BIT	=	0x0001
                         00000002    35 _GG_EXT_CTL	=	0x0002
                         00000003    36 _GG_SIO_SEND	=	0x0003
                         00000004    37 _GG_SIO_RECV	=	0x0004
                         00000005    38 _GG_SIO_CTL	=	0x0005
                         00000006    39 _GG_SOUND_PAN	=	0x0006
                         0000003E    40 _MEMORY_CTL	=	0x003e
                         0000003F    41 _JOY_CTL	=	0x003f
                         0000007E    42 _VCOUNTER	=	0x007e
                         0000007F    43 _PSG	=	0x007f
                         0000007F    44 _HCOUNTER	=	0x007f
                         000000BE    45 _VDP_DATA	=	0x00be
                         000000BF    46 _VDP_CMD	=	0x00bf
                         000000BF    47 _VDP_STATUS	=	0x00bf
                         000000DC    48 _JOY_PORT1	=	0x00dc
                         000000DD    49 _JOY_PORT2	=	0x00dd
                         000000F0    50 _FMADDRESS	=	0x00f0
                         000000F1    51 _FMDATA	=	0x00f1
                         000000F2    52 _AUDIOCTRL	=	0x00f2
                                     53 ;--------------------------------------------------------
                                     54 ; ram data
                                     55 ;--------------------------------------------------------
                                     56 	.area _DATA
                         0000FFFC    57 _RAM_CONTROL	=	0xfffc
                         0000FFF8    58 _GLASSES_3D	=	0xfff8
                         0000FFFD    59 _MAP_FRAME0	=	0xfffd
                         0000FFFE    60 _MAP_FRAME1	=	0xfffe
                         0000FFFF    61 _MAP_FRAME2	=	0xffff
    00000000                         62 _playerX::
    00000000                         63 	.ds 2
    00000002                         64 _playerY::
    00000002                         65 	.ds 2
    00000004                         66 _playerXVelocity::
    00000004                         67 	.ds 2
    00000006                         68 _playerYVelocity::
    00000006                         69 	.ds 2
                                     70 ;--------------------------------------------------------
                                     71 ; ram data
                                     72 ;--------------------------------------------------------
                                     73 	.area _INITIALIZED
    00000000                         74 _facingRight::
    00000000                         75 	.ds 1
    00000001                         76 _playerJumpIncrease::
    00000001                         77 	.ds 1
    00000002                         78 _threeFrameCounter::
    00000002                         79 	.ds 1
                                     80 ;--------------------------------------------------------
                                     81 ; absolute external ram data
                                     82 ;--------------------------------------------------------
                                     83 	.area _DABS (ABS)
                                     84 ;--------------------------------------------------------
                                     85 ; global & static initialisations
                                     86 ;--------------------------------------------------------
                                     87 	.area _HOME
                                     88 	.area _GSINIT
                                     89 	.area _GSFINAL
                                     90 	.area _GSINIT
                                     91 ;--------------------------------------------------------
                                     92 ; Home
                                     93 ;--------------------------------------------------------
                                     94 	.area _HOME
                                     95 ;src/player.c:67: void UpdatePlayerVRAMTiles(void) NONBANKED{
                                     96 ;	---------------------------------
                                     97 ; Function UpdatePlayerVRAMTiles
                                     98 ; ---------------------------------
    00000000                         99 _UpdatePlayerVRAMTiles::
                                    100 ;src/player.c:68: uint8_t _previous_bank = CURRENT_BANK;
    00000000 3A FE FF         [13]  101 	ld	a, (_MAP_FRAME1+0)
    00000003 4F               [ 4]  102 	ld	c, a
                                    103 ;src/player.c:71: SWITCH_ROM(BANK(PlayerCharacterSprites));
    00000004 21 FE FF         [10]  104 	ld	hl, #_MAP_FRAME1
    00000007 36r00            [10]  105 	ld	(hl), #<(___bank_PlayerCharacterSprites)
                                    106 ;src/player.c:73: set_player_sprite_data (0,PlayerCharacterSprites_TILE_COUNT,PlayerCharacterSprites_tiles);
    00000009 C5               [11]  107 	push	bc
    0000000A 21r00r00         [10]  108 	ld	hl, #_PlayerCharacterSprites_tiles
    0000000D E5               [11]  109 	push	hl
    0000000E 11 7C 00         [10]  110 	ld	de, #0x007c
    00000011 AF               [ 4]  111 	xor	a, a
    00000012 CDr00r00         [17]  112 	call	_set_sprite_native_data
    00000015 C1               [10]  113 	pop	bc
                                    114 ;src/player.c:75: SWITCH_ROM(_previous_bank);
    00000016 21 FE FF         [10]  115 	ld	hl, #_MAP_FRAME1
    00000019 71               [ 7]  116 	ld	(hl), c
                                    117 ;src/player.c:76: }
    0000001A C9               [10]  118 	ret
    0000001B                        119 _baseProp:
    0000001B 00                     120 	.db #0x00	; 0
    0000001C                        121 _PlayerPalettesGGSMS:
    0000001C 1B                     122 	.db #0x1b	; 27
    0000001D 3F                     123 	.db #0x3f	; 63
    0000001E 2A                     124 	.db #0x2a	; 42
    0000001F 00                     125 	.db #0x00	; 0
    00000020 02                     126 	.db #0x02	; 2
    00000021 04                     127 	.db #0x04	; 4
    00000022 20                     128 	.db #0x20	; 32
    00000023 09                     129 	.db #0x09	; 9
    00000024 18                     130 	.db #0x18	; 24
    00000025 11                     131 	.db #0x11	; 17
    00000026 03                     132 	.db #0x03	; 3
    00000027 0C                     133 	.db #0x0c	; 12
    00000028 30                     134 	.db #0x30	; 48	'0'
    00000029 0F                     135 	.db #0x0f	; 15
    0000002A 3C                     136 	.db #0x3c	; 60
    0000002B 3B                     137 	.db #0x3b	; 59
                                    138 ;src/player.c:78: void SetPlayerPalettes(void) NONBANKED{
                                    139 ;	---------------------------------
                                    140 ; Function SetPlayerPalettes
                                    141 ; ---------------------------------
    0000002C                        142 _SetPlayerPalettes::
                                    143 ;src/player.c:79: uint8_t _previous_bank = CURRENT_BANK;
    0000002C 3A FE FF         [13]  144 	ld	a, (_MAP_FRAME1+0)
    0000002F 4F               [ 4]  145 	ld	c, a
                                    146 ;src/player.c:81: SWITCH_ROM(PLAYER_PALETTES_BANK);
                                    147 ;src/player.c:85: set_sprite_palette(baseProp, 1, PLAYER_PALETTES);
    00000030 C5               [11]  148 	push	bc
    00000031 21r1Cr00         [10]  149 	ld	hl, #_PlayerPalettesGGSMS
    00000034 E5               [11]  150 	push	hl
    00000035 21 01 01         [10]  151 	ld	hl, #0x101
    00000038 E5               [11]  152 	push	hl
    00000039 CDr00r00         [17]  153 	call	_set_palette
    0000003C C1               [10]  154 	pop	bc
                                    155 ;src/player.c:95: SWITCH_ROM(_previous_bank);
    0000003D 21 FE FF         [10]  156 	ld	hl, #_MAP_FRAME1
    00000040 71               [ 7]  157 	ld	(hl), c
                                    158 ;src/player.c:96: }
    00000041 C9               [10]  159 	ret
                                    160 ;src/player.c:116: uint8_t DrawPlayer(uint16_t playerRealX, uint16_t playerRealY, uint8_t frame) NONBANKED{
                                    161 ;	---------------------------------
                                    162 ; Function DrawPlayer
                                    163 ; ---------------------------------
    00000042                        164 _DrawPlayer::
    00000042 DD E5            [15]  165 	push	ix
    00000044 DD 21 00 00      [14]  166 	ld	ix,#0
    00000048 DD 39            [15]  167 	add	ix,sp
    0000004A 3B               [ 6]  168 	dec	sp
    0000004B 4D               [ 4]  169 	ld	c, l
    0000004C 44               [ 4]  170 	ld	b, h
                                    171 ;src/player.c:119: uint8_t _previous_bank = CURRENT_BANK;
    0000004D 3A FE FF         [13]  172 	ld	a, (_MAP_FRAME1+0)
    00000050 DD 77 FF         [19]  173 	ld	-1 (ix), a
                                    174 ;src/player.c:123: uint16_t playerCameraX = (playerRealX-camera_x)+DEVICE_SPRITE_PX_OFFSET_X;
    00000053 21r00r00         [10]  175 	ld	hl, #_camera_x
    00000056 79               [ 4]  176 	ld	a, c
    00000057 96               [ 7]  177 	sub	a, (hl)
    00000058 23               [ 6]  178 	inc	hl
    00000059 4F               [ 4]  179 	ld	c, a
    0000005A 78               [ 4]  180 	ld	a, b
    0000005B 9E               [ 7]  181 	sbc	a, (hl)
    0000005C 47               [ 4]  182 	ld	b, a
                                    183 ;src/player.c:124: uint16_t playerCameraY= (playerRealY)+DEVICE_SPRITE_PX_OFFSET_Y;
    0000005D 21 FF FF         [10]  184 	ld	hl, #0xffff
    00000060 19               [11]  185 	add	hl, de
    00000061 EB               [ 4]  186 	ex	de, hl
                                    187 ;src/player.c:126: SWITCH_ROM(BANK(PlayerCharacterSprites));
    00000062 21 FE FF         [10]  188 	ld	hl, #_MAP_FRAME1
    00000065 36r00            [10]  189 	ld	(hl), #<(___bank_PlayerCharacterSprites)
                                    190 ;src/player.c:128: spritesUsed = move_metasprite_ex(PlayerCharacterSprites_metasprites[frame],0,baseProp,0,playerCameraX,playerCameraY);
    00000067 DD 6E 04         [19]  191 	ld	l, 4 (ix)
                                    192 ;	spillPairReg hl
                                    193 ;	spillPairReg hl
    0000006A 26 00            [ 7]  194 	ld	h, #0x00
                                    195 ;	spillPairReg hl
                                    196 ;	spillPairReg hl
    0000006C 29               [11]  197 	add	hl, hl
    0000006D D5               [11]  198 	push	de
    0000006E 11r00r00         [10]  199 	ld	de, #_PlayerCharacterSprites_metasprites
    00000071 19               [11]  200 	add	hl, de
    00000072 D1               [10]  201 	pop	de
    00000073 7E               [ 7]  202 	ld	a, (hl)
    00000074 23               [ 6]  203 	inc	hl
    00000075 66               [ 7]  204 	ld	h, (hl)
                                    205 ;	spillPairReg hl
    00000076 6F               [ 4]  206 	ld	l, a
                                    207 ;	spillPairReg hl
                                    208 ;	spillPairReg hl
                                    209 ;../../../include/sms/metasprites.h:83: __current_metasprite = metasprite;
    00000077 22r00r00         [16]  210 	ld	(___current_metasprite), hl
                                    211 ;../../../include/sms/metasprites.h:84: __current_base_tile = base_tile;
    0000007A 21r00r00         [10]  212 	ld	hl, #___current_base_tile
    0000007D 36 00            [10]  213 	ld	(hl), #0x00
                                    214 ;../../../include/sms/metasprites.h:85: return __move_metasprite(base_sprite, x, y);
    0000007F D5               [11]  215 	push	de
    00000080 59               [ 4]  216 	ld	e, c
    00000081 50               [ 4]  217 	ld	d, b
    00000082 AF               [ 4]  218 	xor	a, a
    00000083 CDr00r00         [17]  219 	call	___move_metasprite
    00000086 4F               [ 4]  220 	ld	c, a
                                    221 ;src/player.c:130: SWITCH_ROM(_previous_bank);
    00000087 DD 7E FF         [19]  222 	ld	a, -1 (ix)
    0000008A 32 FE FF         [13]  223 	ld	(_MAP_FRAME1+0), a
                                    224 ;src/player.c:132: return spritesUsed;
    0000008D 79               [ 4]  225 	ld	a, c
                                    226 ;src/player.c:133: }
    0000008E 33               [ 6]  227 	inc	sp
    0000008F DD E1            [14]  228 	pop	ix
    00000091 E1               [10]  229 	pop	hl
    00000092 33               [ 6]  230 	inc	sp
    00000093 E9               [ 4]  231 	jp	(hl)
                                    232 	.area _HOME
                                    233 ;--------------------------------------------------------
                                    234 ; code
                                    235 ;--------------------------------------------------------
                                    236 	.area _CODE_255
                                    237 ;src/player.c:98: void SetupPlayer(void) BANKED{
                                    238 ;	---------------------------------
                                    239 ; Function SetupPlayer
                                    240 ; ---------------------------------
                         000000FF   241 	b_SetupPlayer	= 255
    00000000                        242 _SetupPlayer::
                                    243 ;src/player.c:102: playerX=40<<4;
    00000000 21 80 02         [10]  244 	ld	hl, #0x0280
    00000003 22r00r00         [16]  245 	ld	(_playerX), hl
                                    246 ;src/player.c:103: playerY=40<<4;
    00000006 22r02r00         [16]  247 	ld	(_playerY), hl
                                    248 ;src/player.c:105: playerXVelocity=0;
    00000009 21 00 00         [10]  249 	ld	hl, #0x0000
    0000000C 22r04r00         [16]  250 	ld	(_playerXVelocity), hl
                                    251 ;src/player.c:106: playerYVelocity=0;
    0000000F 22r06r00         [16]  252 	ld	(_playerYVelocity), hl
                                    253 ;src/player.c:108: UpdatePlayerVRAMTiles();
    00000012 CDr00r00         [17]  254 	call	_UpdatePlayerVRAMTiles
                                    255 ;src/player.c:111: SetPlayerPalettes();
                                    256 ;src/player.c:114: }
    00000015 C3r2Cr00         [10]  257 	jp	_SetPlayerPalettes
                                    258 ;src/player.c:135: uint8_t UpdatePlayer(void) BANKED{
                                    259 ;	---------------------------------
                                    260 ; Function UpdatePlayer
                                    261 ; ---------------------------------
                         000000FF   262 	b_UpdatePlayer	= 255
    00000018                        263 _UpdatePlayer::
    00000018 DD E5            [15]  264 	push	ix
    0000001A DD 21 00 00      [14]  265 	ld	ix,#0
    0000001E DD 39            [15]  266 	add	ix,sp
    00000020 21 F5 FF         [10]  267 	ld	hl, #-11
    00000023 39               [11]  268 	add	hl, sp
    00000024 F9               [ 6]  269 	ld	sp, hl
                                    270 ;src/player.c:139: int16_t moveSpeed = (joypadCurrent & J_B) ?PLAYER_CHARACTER_RUN_VELOCITY:PLAYER_CHARACTER_WALK_VELOCITY;
    00000025 3Ar00r00         [13]  271 	ld	a, (_joypadCurrent+0)
    00000028 DD 77 FB         [19]  272 	ld	-5 (ix), a
    0000002B E6 10            [ 7]  273 	and	a,#0x10
    0000002D 28 05            [12]  274 	jr	Z, 00191$
    0000002F 11 A9 01         [10]  275 	ld	de, #0x01a9
    00000032 18 03            [12]  276 	jr	00192$
    00000034                        277 00191$:
    00000034 11 45 01         [10]  278 	ld	de, #0x0145
    00000037                        279 00192$:
                                    280 ;src/player.c:140: uint8_t threeFrameCounterSpeed = (joypadCurrent & J_B) ? PLAYER_CHARACTER_RUN_TWO_FRAME_COUNTER : PLAYER_CHARACTER_WALK_TWO_FRAME_COUNTER;
    00000037 B7               [ 4]  281 	or	a, a
    00000038 3E 05            [ 7]  282 	ld	a, #0x05
    0000003A 20 02            [12]  283 	jr	NZ, 00194$
    0000003C 3E 03            [ 7]  284 	ld	a, #0x03
    0000003E                        285 00194$:
                                    286 ;src/player.c:142: threeFrameCounter+=threeFrameCounterSpeed;
    0000003E 21r02r00         [10]  287 	ld	hl, #_threeFrameCounter
    00000041 86               [ 7]  288 	add	a, (hl)
    00000042 77               [ 7]  289 	ld	(hl), a
                                    290 ;src/player.c:143: uint8_t threeFrameCounterValue = threeFrameCounter>>4;
    00000043 3Ar02r00         [13]  291 	ld	a, (_threeFrameCounter+0)
    00000046 07               [ 4]  292 	rlca
    00000047 07               [ 4]  293 	rlca
    00000048 07               [ 4]  294 	rlca
    00000049 07               [ 4]  295 	rlca
    0000004A E6 0F            [ 7]  296 	and	a, #0x0f
                                    297 ;src/player.c:144: if(threeFrameCounterValue>=3){
    0000004C DD 77 F5         [19]  298 	ld	-11 (ix), a
    0000004F D6 03            [ 7]  299 	sub	a, #0x03
    00000051 38 08            [12]  300 	jr	C, 00102$
                                    301 ;src/player.c:145: threeFrameCounter=0;
    00000053 AF               [ 4]  302 	xor	a, a
    00000054 32r02r00         [13]  303 	ld	(#_threeFrameCounter), a
                                    304 ;src/player.c:146: threeFrameCounterValue=0;
    00000057 DD 36 F5 00      [19]  305 	ld	-11 (ix), #0x00
    0000005B                        306 00102$:
                                    307 ;src/player.c:149: uint8_t turning = FALSE;
    0000005B DD 36 F6 00      [19]  308 	ld	-10 (ix), #0x00
                                    309 ;src/player.c:154: if(playerXVelocity<0){
    0000005F ED 4Br04r00      [20]  310 	ld	bc, (_playerXVelocity)
    00000063 78               [ 4]  311 	ld	a, b
    00000064 07               [ 4]  312 	rlca
    00000065 E6 01            [ 7]  313 	and	a,#0x01
    00000067 DD 77 FC         [19]  314 	ld	-4 (ix), a
                                    315 ;src/player.c:157: playerXVelocity+=GROUND_FRICTION;
    0000006A FD 21 0F 00      [14]  316 	ld	iy, #0x000f
    0000006E FD 09            [15]  317 	add	iy, bc
                                    318 ;src/player.c:151: if(joypadCurrent &J_RIGHT){
    00000070 DD CB FB 5E      [20]  319 	bit	3, -5 (ix)
    00000074 28 33            [12]  320 	jr	Z, 00134$
                                    321 ;src/player.c:154: if(playerXVelocity<0){
    00000076 DD 7E FC         [19]  322 	ld	a, -4 (ix)
    00000079 B7               [ 4]  323 	or	a, a
    0000007A 28 1A            [12]  324 	jr	Z, 00109$
                                    325 ;src/player.c:157: playerXVelocity+=GROUND_FRICTION;
    0000007C FD 22r04r00      [20]  326 	ld	(_playerXVelocity), iy
                                    327 ;src/player.c:160: if(playerXVelocity<0)turning=TRUE;
    00000080 2Ar04r00         [16]  328 	ld	hl, (_playerXVelocity)
    00000083 CB 7C            [ 8]  329 	bit	7, h
    00000085 28 07            [12]  330 	jr	Z, 00104$
    00000087 DD 36 F6 01      [19]  331 	ld	-10 (ix), #0x01
    0000008B C3r36r01         [10]  332 	jp	00135$
    0000008E                        333 00104$:
                                    334 ;src/player.c:163: facingRight=TRUE;
    0000008E 21r00r00         [10]  335 	ld	hl, #_facingRight
    00000091 36 01            [10]  336 	ld	(hl), #0x01
    00000093 C3r36r01         [10]  337 	jp	00135$
    00000096                        338 00109$:
                                    339 ;src/player.c:166: playerXVelocity=moveSpeed;
    00000096 ED 53r04r00      [20]  340 	ld	(_playerXVelocity), de
                                    341 ;src/player.c:169: if(!facingRight){
    0000009A 3Ar00r00         [13]  342 	ld	a, (_facingRight+0)
    0000009D B7               [ 4]  343 	or	a, a
    0000009E C2r36r01         [10]  344 	jp	NZ, 00135$
                                    345 ;src/player.c:170: facingRight=TRUE;
    000000A1 21r00r00         [10]  346 	ld	hl, #_facingRight
    000000A4 36 01            [10]  347 	ld	(hl), #0x01
    000000A6 C3r36r01         [10]  348 	jp	00135$
    000000A9                        349 00134$:
                                    350 ;src/player.c:177: if(playerXVelocity>0){
    000000A9 AF               [ 4]  351 	xor	a, a
    000000AA B9               [ 4]  352 	cp	a, c
    000000AB 98               [ 4]  353 	sbc	a, b
    000000AC E2rB1r00         [10]  354 	jp	PO, 00532$
    000000AF EE 80            [ 7]  355 	xor	a, #0x80
    000000B1                        356 00532$:
    000000B1 07               [ 4]  357 	rlca
    000000B2 E6 01            [ 7]  358 	and	a,#0x01
    000000B4 DD 77 FD         [19]  359 	ld	-3 (ix), a
                                    360 ;src/player.c:180: playerXVelocity-=GROUND_FRICTION;
    000000B7 79               [ 4]  361 	ld	a, c
    000000B8 C6 F1            [ 7]  362 	add	a, #0xf1
    000000BA 6F               [ 4]  363 	ld	l, a
                                    364 ;	spillPairReg hl
                                    365 ;	spillPairReg hl
    000000BB 78               [ 4]  366 	ld	a, b
    000000BC CE FF            [ 7]  367 	adc	a, #0xff
    000000BE DD 75 FE         [19]  368 	ld	-2 (ix), l
    000000C1 DD 77 FF         [19]  369 	ld	-1 (ix), a
                                    370 ;src/player.c:174: }else if(joypadCurrent &J_LEFT){
    000000C4 DD CB FB 56      [20]  371 	bit	2, -5 (ix)
    000000C8 28 3E            [12]  372 	jr	Z, 00131$
                                    373 ;src/player.c:177: if(playerXVelocity>0){
    000000CA DD 7E FD         [19]  374 	ld	a, -3 (ix)
    000000CD B7               [ 4]  375 	or	a, a
    000000CE 28 21            [12]  376 	jr	Z, 00117$
                                    377 ;src/player.c:180: playerXVelocity-=GROUND_FRICTION;
    000000D0 DD 6E FE         [19]  378 	ld	l, -2 (ix)
    000000D3 DD 66 FF         [19]  379 	ld	h, -1 (ix)
                                    380 ;src/player.c:183: if(playerXVelocity>0)turning=TRUE;
    000000D6 22r04r00         [16]  381 	ld	(_playerXVelocity), hl
    000000D9 AF               [ 4]  382 	xor	a, a
    000000DA BD               [ 4]  383 	cp	a, l
    000000DB 9C               [ 4]  384 	sbc	a, h
    000000DC E2rE1r00         [10]  385 	jp	PO, 00534$
    000000DF EE 80            [ 7]  386 	xor	a, #0x80
    000000E1                        387 00534$:
    000000E1 F2rEAr00         [10]  388 	jp	P, 00112$
    000000E4 DD 36 F6 01      [19]  389 	ld	-10 (ix), #0x01
    000000E8 18 4C            [12]  390 	jr	00135$
    000000EA                        391 00112$:
                                    392 ;src/player.c:186: facingRight=FALSE;
    000000EA 21r00r00         [10]  393 	ld	hl, #_facingRight
    000000ED 36 00            [10]  394 	ld	(hl), #0x00
    000000EF 18 45            [12]  395 	jr	00135$
    000000F1                        396 00117$:
                                    397 ;src/player.c:190: playerXVelocity=-moveSpeed;
    000000F1 21r04r00         [10]  398 	ld	hl, #_playerXVelocity
    000000F4 AF               [ 4]  399 	xor	a, a
    000000F5 93               [ 4]  400 	sub	a, e
    000000F6 77               [ 7]  401 	ld	(hl), a
    000000F7 23               [ 6]  402 	inc	hl
    000000F8 9F               [ 4]  403 	sbc	a, a
    000000F9 92               [ 4]  404 	sub	a, d
    000000FA 77               [ 7]  405 	ld	(hl), a
                                    406 ;src/player.c:193: if(facingRight){
    000000FB 3Ar00r00         [13]  407 	ld	a, (_facingRight+0)
    000000FE B7               [ 4]  408 	or	a, a
    000000FF 28 35            [12]  409 	jr	Z, 00135$
                                    410 ;src/player.c:194: facingRight=FALSE;
    00000101 21r00r00         [10]  411 	ld	hl, #_facingRight
    00000104 36 00            [10]  412 	ld	(hl), #0x00
    00000106 18 2E            [12]  413 	jr	00135$
    00000108                        414 00131$:
                                    415 ;src/player.c:203: if (playerXVelocity > 0) {
    00000108 DD 7E FD         [19]  416 	ld	a, -3 (ix)
    0000010B B7               [ 4]  417 	or	a, a
    0000010C 28 1E            [12]  418 	jr	Z, 00128$
                                    419 ;src/player.c:204: if (playerXVelocity >= GROUND_FRICTION) playerXVelocity -= GROUND_FRICTION;
    0000010E 79               [ 4]  420 	ld	a, c
    0000010F D6 0F            [ 7]  421 	sub	a, #0x0f
    00000111 78               [ 4]  422 	ld	a, b
    00000112 17               [ 4]  423 	rla
    00000113 3F               [ 4]  424 	ccf
    00000114 1F               [ 4]  425 	rra
    00000115 DE 80            [ 7]  426 	sbc	a, #0x80
    00000117 38 0B            [12]  427 	jr	C, 00120$
    00000119 DD 6E FE         [19]  428 	ld	l, -2 (ix)
    0000011C DD 66 FF         [19]  429 	ld	h, -1 (ix)
    0000011F 22r04r00         [16]  430 	ld	(_playerXVelocity), hl
    00000122 18 12            [12]  431 	jr	00135$
    00000124                        432 00120$:
                                    433 ;src/player.c:205: else playerXVelocity=0;
    00000124 21 00 00         [10]  434 	ld	hl, #0x0000
    00000127 22r04r00         [16]  435 	ld	(_playerXVelocity), hl
    0000012A 18 0A            [12]  436 	jr	00135$
    0000012C                        437 00128$:
                                    438 ;src/player.c:207: else if (playerXVelocity < 0) {
    0000012C DD 7E FC         [19]  439 	ld	a, -4 (ix)
    0000012F B7               [ 4]  440 	or	a, a
    00000130 28 04            [12]  441 	jr	Z, 00135$
                                    442 ;src/player.c:208: if (playerXVelocity <= GROUND_FRICTION) playerXVelocity += GROUND_FRICTION;
    00000132 FD 22r04r00      [20]  443 	ld	(_playerXVelocity), iy
                                    444 ;src/player.c:209: else playerXVelocity=0;
    00000136                        445 00135$:
                                    446 ;src/player.c:213: uint16_t playerRealX = playerX>>4;
    00000136 3Ar00r00         [13]  447 	ld	a, (_playerX+0)
    00000139 DD 77 FE         [19]  448 	ld	-2 (ix), a
    0000013C 3Ar01r00         [13]  449 	ld	a, (_playerX+1)
    0000013F DD 77 FF         [19]  450 	ld	-1 (ix), a
    00000142 DD CB FF 3E      [23]  451 	srl	-1 (ix)
    00000146 DD CB FE 1E      [23]  452 	rr	-2 (ix)
    0000014A DD CB FF 3E      [23]  453 	srl	-1 (ix)
    0000014E DD CB FE 1E      [23]  454 	rr	-2 (ix)
    00000152 DD CB FF 3E      [23]  455 	srl	-1 (ix)
    00000156 DD CB FE 1E      [23]  456 	rr	-2 (ix)
    0000015A DD CB FF 3E      [23]  457 	srl	-1 (ix)
    0000015E DD CB FE 1E      [23]  458 	rr	-2 (ix)
                                    459 ;src/player.c:214: uint16_t playerRealY = playerY>>4;
    00000162 ED 4Br02r00      [20]  460 	ld	bc, (_playerY)
    00000166 CB 38            [ 8]  461 	srl	b
    00000168 CB 19            [ 8]  462 	rr	c
    0000016A CB 38            [ 8]  463 	srl	b
    0000016C CB 19            [ 8]  464 	rr	c
    0000016E CB 38            [ 8]  465 	srl	b
    00000170 CB 19            [ 8]  466 	rr	c
    00000172 CB 38            [ 8]  467 	srl	b
    00000174 CB 19            [ 8]  468 	rr	c
                                    469 ;src/player.c:216: uint8_t grounded = FALSE;
    00000176 DD 36 F7 00      [19]  470 	ld	-9 (ix), #0x00
                                    471 ;src/player.c:223: if(playerRealY<DEVICE_SCREEN_PX_HEIGHT){
    0000017A 79               [ 4]  472 	ld	a, c
    0000017B D6 C0            [ 7]  473 	sub	a, #0xc0
    0000017D 78               [ 4]  474 	ld	a, b
    0000017E DE 00            [ 7]  475 	sbc	a, #0x00
    00000180 30 39            [12]  476 	jr	NC, 00140$
                                    477 ;src/player.c:226: while(IsTileSolid(playerRealX,playerRealY+PLAYER_CHARACTER_BOUNDING_BOX_HEIGHT-1)){
    00000182                        478 00136$:
    00000182 59               [ 4]  479 	ld	e, c
    00000183 50               [ 4]  480 	ld	d, b
    00000184 21 17 00         [10]  481 	ld	hl, #0x0017
    00000187 19               [11]  482 	add	hl, de
    00000188 C5               [11]  483 	push	bc
    00000189 EB               [ 4]  484 	ex	de, hl
    0000018A DD 6E FE         [19]  485 	ld	l, -2 (ix)
                                    486 ;	spillPairReg hl
                                    487 ;	spillPairReg hl
    0000018D DD 66 FF         [19]  488 	ld	h, -1 (ix)
                                    489 ;	spillPairReg hl
                                    490 ;	spillPairReg hl
    00000190 CDr00r00         [17]  491 	call	_IsTileSolid
    00000193 C1               [10]  492 	pop	bc
    00000194 B7               [ 4]  493 	or	a, a
    00000195 28 24            [12]  494 	jr	Z, 00140$
                                    495 ;src/player.c:227: playerY-=16;
    00000197 2Ar02r00         [16]  496 	ld	hl, (_playerY)
    0000019A 7D               [ 4]  497 	ld	a, l
    0000019B C6 F0            [ 7]  498 	add	a, #0xf0
    0000019D 6F               [ 4]  499 	ld	l, a
                                    500 ;	spillPairReg hl
                                    501 ;	spillPairReg hl
    0000019E 7C               [ 4]  502 	ld	a, h
    0000019F CE FF            [ 7]  503 	adc	a, #0xff
    000001A1 67               [ 4]  504 	ld	h, a
                                    505 ;	spillPairReg hl
                                    506 ;	spillPairReg hl
    000001A2 22r02r00         [16]  507 	ld	(_playerY), hl
                                    508 ;src/player.c:228: playerRealY = playerY>>4;
    000001A5 ED 4Br02r00      [20]  509 	ld	bc, (_playerY)
    000001A9 CB 38            [ 8]  510 	srl	b
    000001AB CB 19            [ 8]  511 	rr	c
    000001AD CB 38            [ 8]  512 	srl	b
    000001AF CB 19            [ 8]  513 	rr	c
    000001B1 CB 38            [ 8]  514 	srl	b
    000001B3 CB 19            [ 8]  515 	rr	c
    000001B5 CB 38            [ 8]  516 	srl	b
    000001B7 CB 19            [ 8]  517 	rr	c
    000001B9 18 C7            [12]  518 	jr	00136$
    000001BB                        519 00140$:
                                    520 ;src/player.c:226: while(IsTileSolid(playerRealX,playerRealY+PLAYER_CHARACTER_BOUNDING_BOX_HEIGHT-1)){
    000001BB DD 71 F8         [19]  521 	ld	-8 (ix), c
    000001BE DD 70 F9         [19]  522 	ld	-7 (ix), b
                                    523 ;src/player.c:249: if(IsTileSolid(playerRealX+PLAYER_CHARACTER_BOUNDING_BOX_HALF_WIDTH,playerRealY+2)||IsTileSolid(playerRealX+PLAYER_CHARACTER_BOUNDING_BOX_HALF_WIDTH,playerRealY+PLAYER_CHARACTER_BOUNDING_BOX_HALF_HEIGHT)||IsTileSolid(playerRealX+PLAYER_CHARACTER_BOUNDING_BOX_HALF_WIDTH,playerRealY+(PLAYER_CHARACTER_BOUNDING_BOX_HEIGHT-2)))playerXVelocity=0;
                                    524 ;src/player.c:242: if(playerXVelocity!=0){
    000001C1 3Ar05r00         [13]  525 	ld	a, (_playerXVelocity+1)
    000001C4 21r04r00         [10]  526 	ld	hl, #_playerXVelocity
    000001C7 B6               [ 7]  527 	or	a, (hl)
    000001C8 CAr89r02         [10]  528 	jp	Z, 00155$
                                    529 ;src/player.c:245: if(playerXVelocity>0){
    000001CB 2Ar04r00         [16]  530 	ld	hl, (_playerXVelocity)
    000001CE DD 75 FA         [19]  531 	ld	-6 (ix), l
    000001D1 DD 74 FB         [19]  532 	ld	-5 (ix), h
                                    533 ;src/player.c:249: if(IsTileSolid(playerRealX+PLAYER_CHARACTER_BOUNDING_BOX_HALF_WIDTH,playerRealY+2)||IsTileSolid(playerRealX+PLAYER_CHARACTER_BOUNDING_BOX_HALF_WIDTH,playerRealY+PLAYER_CHARACTER_BOUNDING_BOX_HALF_HEIGHT)||IsTileSolid(playerRealX+PLAYER_CHARACTER_BOUNDING_BOX_HALF_WIDTH,playerRealY+(PLAYER_CHARACTER_BOUNDING_BOX_HEIGHT-2)))playerXVelocity=0;
    000001D4 DD 5E F8         [19]  534 	ld	e, -8 (ix)
    000001D7 DD 56 F9         [19]  535 	ld	d, -7 (ix)
    000001DA 13               [ 6]  536 	inc	de
    000001DB 13               [ 6]  537 	inc	de
    000001DC FD 21 0C 00      [14]  538 	ld	iy, #0x000c
    000001E0 C5               [11]  539 	push	bc
    000001E1 DD 4E F8         [19]  540 	ld	c, -8 (ix)
    000001E4 DD 46 F9         [19]  541 	ld	b, -7 (ix)
    000001E7 FD 09            [15]  542 	add	iy, bc
    000001E9 C1               [10]  543 	pop	bc
    000001EA DD 7E F8         [19]  544 	ld	a, -8 (ix)
    000001ED C6 16            [ 7]  545 	add	a, #0x16
    000001EF 6F               [ 4]  546 	ld	l, a
                                    547 ;	spillPairReg hl
                                    548 ;	spillPairReg hl
    000001F0 DD 7E F9         [19]  549 	ld	a, -7 (ix)
    000001F3 CE 00            [ 7]  550 	adc	a, #0x00
    000001F5 67               [ 4]  551 	ld	h, a
                                    552 ;	spillPairReg hl
                                    553 ;	spillPairReg hl
    000001F6 DD 75 FC         [19]  554 	ld	-4 (ix), l
    000001F9 DD 74 FD         [19]  555 	ld	-3 (ix), h
                                    556 ;src/player.c:245: if(playerXVelocity>0){
    000001FC AF               [ 4]  557 	xor	a, a
    000001FD DD BE FA         [19]  558 	cp	a, -6 (ix)
    00000200 DD 9E FB         [19]  559 	sbc	a, -5 (ix)
    00000203 E2r08r02         [10]  560 	jp	PO, 00535$
    00000206 EE 80            [ 7]  561 	xor	a, #0x80
    00000208                        562 00535$:
    00000208 F2r48r02         [10]  563 	jp	P, 00152$
                                    564 ;src/player.c:249: if(IsTileSolid(playerRealX+PLAYER_CHARACTER_BOUNDING_BOX_HALF_WIDTH,playerRealY+2)||IsTileSolid(playerRealX+PLAYER_CHARACTER_BOUNDING_BOX_HALF_WIDTH,playerRealY+PLAYER_CHARACTER_BOUNDING_BOX_HALF_HEIGHT)||IsTileSolid(playerRealX+PLAYER_CHARACTER_BOUNDING_BOX_HALF_WIDTH,playerRealY+(PLAYER_CHARACTER_BOUNDING_BOX_HEIGHT-2)))playerXVelocity=0;
    0000020B DD 7E FE         [19]  565 	ld	a, -2 (ix)
    0000020E C6 05            [ 7]  566 	add	a, #0x05
    00000210 6F               [ 4]  567 	ld	l, a
                                    568 ;	spillPairReg hl
                                    569 ;	spillPairReg hl
    00000211 DD 7E FF         [19]  570 	ld	a, -1 (ix)
    00000214 CE 00            [ 7]  571 	adc	a, #0x00
    00000216 67               [ 4]  572 	ld	h, a
                                    573 ;	spillPairReg hl
                                    574 ;	spillPairReg hl
    00000217 E5               [11]  575 	push	hl
    00000218 C5               [11]  576 	push	bc
    00000219 FD E5            [15]  577 	push	iy
    0000021B CDr00r00         [17]  578 	call	_IsTileSolid
    0000021E FD E1            [14]  579 	pop	iy
    00000220 C1               [10]  580 	pop	bc
    00000221 E1               [10]  581 	pop	hl
    00000222 B7               [ 4]  582 	or	a, a
    00000223 20 1B            [12]  583 	jr	NZ, 00141$
    00000225 E5               [11]  584 	push	hl
    00000226 C5               [11]  585 	push	bc
    00000227 FD E5            [15]  586 	push	iy
    00000229 D1               [10]  587 	pop	de
    0000022A CDr00r00         [17]  588 	call	_IsTileSolid
    0000022D C1               [10]  589 	pop	bc
    0000022E E1               [10]  590 	pop	hl
    0000022F B7               [ 4]  591 	or	a, a
    00000230 20 0E            [12]  592 	jr	NZ, 00141$
    00000232 C5               [11]  593 	push	bc
    00000233 DD 5E FC         [19]  594 	ld	e, -4 (ix)
    00000236 DD 56 FD         [19]  595 	ld	d, -3 (ix)
    00000239 CDr00r00         [17]  596 	call	_IsTileSolid
    0000023C C1               [10]  597 	pop	bc
    0000023D B7               [ 4]  598 	or	a, a
    0000023E 28 49            [12]  599 	jr	Z, 00155$
    00000240                        600 00141$:
    00000240 21 00 00         [10]  601 	ld	hl, #0x0000
    00000243 22r04r00         [16]  602 	ld	(_playerXVelocity), hl
    00000246 18 41            [12]  603 	jr	00155$
    00000248                        604 00152$:
                                    605 ;src/player.c:252: }else if(playerXVelocity<0){
    00000248 DD CB FB 7E      [20]  606 	bit	7, -5 (ix)
    0000024C 28 3B            [12]  607 	jr	Z, 00155$
                                    608 ;src/player.c:256: if(IsTileSolid(playerRealX-PLAYER_CHARACTER_BOUNDING_BOX_HALF_WIDTH,playerRealY+2)||IsTileSolid(playerRealX-PLAYER_CHARACTER_BOUNDING_BOX_HALF_WIDTH,playerRealY+PLAYER_CHARACTER_BOUNDING_BOX_HALF_HEIGHT)||IsTileSolid(playerRealX-PLAYER_CHARACTER_BOUNDING_BOX_HALF_WIDTH,playerRealY+(PLAYER_CHARACTER_BOUNDING_BOX_HEIGHT-2)))playerXVelocity=0;
    0000024E DD 7E FE         [19]  609 	ld	a, -2 (ix)
    00000251 C6 FB            [ 7]  610 	add	a, #0xfb
    00000253 6F               [ 4]  611 	ld	l, a
                                    612 ;	spillPairReg hl
                                    613 ;	spillPairReg hl
    00000254 DD 7E FF         [19]  614 	ld	a, -1 (ix)
    00000257 CE FF            [ 7]  615 	adc	a, #0xff
    00000259 67               [ 4]  616 	ld	h, a
                                    617 ;	spillPairReg hl
                                    618 ;	spillPairReg hl
    0000025A E5               [11]  619 	push	hl
    0000025B C5               [11]  620 	push	bc
    0000025C FD E5            [15]  621 	push	iy
    0000025E CDr00r00         [17]  622 	call	_IsTileSolid
    00000261 FD E1            [14]  623 	pop	iy
    00000263 C1               [10]  624 	pop	bc
    00000264 E1               [10]  625 	pop	hl
    00000265 B7               [ 4]  626 	or	a, a
    00000266 20 1B            [12]  627 	jr	NZ, 00145$
    00000268 E5               [11]  628 	push	hl
    00000269 C5               [11]  629 	push	bc
    0000026A FD E5            [15]  630 	push	iy
    0000026C D1               [10]  631 	pop	de
    0000026D CDr00r00         [17]  632 	call	_IsTileSolid
    00000270 C1               [10]  633 	pop	bc
    00000271 E1               [10]  634 	pop	hl
    00000272 B7               [ 4]  635 	or	a, a
    00000273 20 0E            [12]  636 	jr	NZ, 00145$
    00000275 C5               [11]  637 	push	bc
    00000276 DD 5E FC         [19]  638 	ld	e, -4 (ix)
    00000279 DD 56 FD         [19]  639 	ld	d, -3 (ix)
    0000027C CDr00r00         [17]  640 	call	_IsTileSolid
    0000027F C1               [10]  641 	pop	bc
    00000280 B7               [ 4]  642 	or	a, a
    00000281 28 06            [12]  643 	jr	Z, 00155$
    00000283                        644 00145$:
    00000283 21 00 00         [10]  645 	ld	hl, #0x0000
    00000286 22r04r00         [16]  646 	ld	(_playerXVelocity), hl
    00000289                        647 00155$:
                                    648 ;src/player.c:261: if(playerYVelocity>=0){
    00000289 2Ar06r00         [16]  649 	ld	hl, (_playerYVelocity)
    0000028C DD 75 FA         [19]  650 	ld	-6 (ix), l
    0000028F DD 74 FB         [19]  651 	ld	-5 (ix), h
                                    652 ;src/player.c:265: if(IsTileSolid(playerRealX+(PLAYER_CHARACTER_BOUNDING_BOX_HALF_WIDTH-2),playerRealY+PLAYER_CHARACTER_BOUNDING_BOX_HEIGHT)||IsTileSolid(playerRealX-(PLAYER_CHARACTER_BOUNDING_BOX_HALF_WIDTH-2),playerRealY+PLAYER_CHARACTER_BOUNDING_BOX_HEIGHT)){
    00000292 DD 6E FE         [19]  653 	ld	l, -2 (ix)
                                    654 ;	spillPairReg hl
                                    655 ;	spillPairReg hl
    00000295 DD 66 FF         [19]  656 	ld	h, -1 (ix)
                                    657 ;	spillPairReg hl
                                    658 ;	spillPairReg hl
    00000298 23               [ 6]  659 	inc	hl
    00000299 23               [ 6]  660 	inc	hl
    0000029A 23               [ 6]  661 	inc	hl
    0000029B DD 7E FE         [19]  662 	ld	a, -2 (ix)
    0000029E C6 FD            [ 7]  663 	add	a, #0xfd
    000002A0 5F               [ 4]  664 	ld	e, a
    000002A1 DD 7E FF         [19]  665 	ld	a, -1 (ix)
    000002A4 CE FF            [ 7]  666 	adc	a, #0xff
    000002A6 57               [ 4]  667 	ld	d, a
    000002A7 DD 75 FC         [19]  668 	ld	-4 (ix), l
    000002AA DD 74 FD         [19]  669 	ld	-3 (ix), h
    000002AD DD 73 FE         [19]  670 	ld	-2 (ix), e
    000002B0 DD 72 FF         [19]  671 	ld	-1 (ix), d
                                    672 ;src/player.c:261: if(playerYVelocity>=0){
    000002B3 DD CB FB 7E      [20]  673 	bit	7, -5 (ix)
    000002B7 20 32            [12]  674 	jr	NZ, 00160$
                                    675 ;src/player.c:265: if(IsTileSolid(playerRealX+(PLAYER_CHARACTER_BOUNDING_BOX_HALF_WIDTH-2),playerRealY+PLAYER_CHARACTER_BOUNDING_BOX_HEIGHT)||IsTileSolid(playerRealX-(PLAYER_CHARACTER_BOUNDING_BOX_HALF_WIDTH-2),playerRealY+PLAYER_CHARACTER_BOUNDING_BOX_HEIGHT)){
    000002B9 DD 6E F8         [19]  676 	ld	l, -8 (ix)
                                    677 ;	spillPairReg hl
                                    678 ;	spillPairReg hl
    000002BC DD 66 F9         [19]  679 	ld	h, -7 (ix)
                                    680 ;	spillPairReg hl
                                    681 ;	spillPairReg hl
    000002BF 11 18 00         [10]  682 	ld	de, #0x0018
    000002C2 19               [11]  683 	add	hl, de
    000002C3 EB               [ 4]  684 	ex	de, hl
    000002C4 D5               [11]  685 	push	de
    000002C5 DD 6E FC         [19]  686 	ld	l, -4 (ix)
                                    687 ;	spillPairReg hl
                                    688 ;	spillPairReg hl
    000002C8 DD 66 FD         [19]  689 	ld	h, -3 (ix)
                                    690 ;	spillPairReg hl
                                    691 ;	spillPairReg hl
    000002CB CDr00r00         [17]  692 	call	_IsTileSolid
    000002CE E1               [10]  693 	pop	hl
    000002CF B7               [ 4]  694 	or	a, a
    000002D0 20 0D            [12]  695 	jr	NZ, 00156$
    000002D2 EB               [ 4]  696 	ex	de, hl
    000002D3 DD 6E FE         [19]  697 	ld	l, -2 (ix)
                                    698 ;	spillPairReg hl
                                    699 ;	spillPairReg hl
    000002D6 DD 66 FF         [19]  700 	ld	h, -1 (ix)
                                    701 ;	spillPairReg hl
                                    702 ;	spillPairReg hl
    000002D9 CDr00r00         [17]  703 	call	_IsTileSolid
    000002DC B7               [ 4]  704 	or	a, a
    000002DD 28 50            [12]  705 	jr	Z, 00167$
    000002DF                        706 00156$:
                                    707 ;src/player.c:266: playerYVelocity=0;
    000002DF 21 00 00         [10]  708 	ld	hl, #0x0000
    000002E2 22r06r00         [16]  709 	ld	(_playerYVelocity), hl
                                    710 ;src/player.c:267: grounded=TRUE;
    000002E5 DD 36 F7 01      [19]  711 	ld	-9 (ix), #0x01
    000002E9 18 44            [12]  712 	jr	00167$
                                    713 ;src/player.c:277: while(IsTileSolid(playerRealX+(PLAYER_CHARACTER_BOUNDING_BOX_HALF_WIDTH-2),playerRealY)||IsTileSolid(playerRealX-(PLAYER_CHARACTER_BOUNDING_BOX_HALF_WIDTH-2),playerRealY)){
    000002EB                        714 00160$:
    000002EB C5               [11]  715 	push	bc
    000002EC 59               [ 4]  716 	ld	e, c
    000002ED 50               [ 4]  717 	ld	d, b
    000002EE DD 6E FC         [19]  718 	ld	l, -4 (ix)
                                    719 ;	spillPairReg hl
                                    720 ;	spillPairReg hl
    000002F1 DD 66 FD         [19]  721 	ld	h, -3 (ix)
                                    722 ;	spillPairReg hl
                                    723 ;	spillPairReg hl
    000002F4 CDr00r00         [17]  724 	call	_IsTileSolid
    000002F7 C1               [10]  725 	pop	bc
    000002F8 B7               [ 4]  726 	or	a, a
    000002F9 20 0E            [12]  727 	jr	NZ, 00161$
    000002FB 59               [ 4]  728 	ld	e, c
    000002FC 50               [ 4]  729 	ld	d, b
    000002FD DD 6E FE         [19]  730 	ld	l, -2 (ix)
                                    731 ;	spillPairReg hl
                                    732 ;	spillPairReg hl
    00000300 DD 66 FF         [19]  733 	ld	h, -1 (ix)
                                    734 ;	spillPairReg hl
                                    735 ;	spillPairReg hl
    00000303 CDr00r00         [17]  736 	call	_IsTileSolid
    00000306 B7               [ 4]  737 	or	a, a
    00000307 28 26            [12]  738 	jr	Z, 00167$
    00000309                        739 00161$:
                                    740 ;src/player.c:278: playerYVelocity=0;
    00000309 21 00 00         [10]  741 	ld	hl, #0x0000
    0000030C 22r06r00         [16]  742 	ld	(_playerYVelocity), hl
                                    743 ;src/player.c:279: playerY+=16;
    0000030F 2Ar02r00         [16]  744 	ld	hl, (_playerY)
    00000312 01 10 00         [10]  745 	ld	bc, #0x0010
    00000315 09               [11]  746 	add	hl, bc
    00000316 22r02r00         [16]  747 	ld	(_playerY), hl
                                    748 ;src/player.c:280: playerRealY = playerY>>4;
    00000319 ED 4Br02r00      [20]  749 	ld	bc, (_playerY)
    0000031D CB 38            [ 8]  750 	srl	b
    0000031F CB 19            [ 8]  751 	rr	c
    00000321 CB 38            [ 8]  752 	srl	b
    00000323 CB 19            [ 8]  753 	rr	c
    00000325 CB 38            [ 8]  754 	srl	b
    00000327 CB 19            [ 8]  755 	rr	c
    00000329 CB 38            [ 8]  756 	srl	b
    0000032B CB 19            [ 8]  757 	rr	c
    0000032D 18 BC            [12]  758 	jr	00160$
    0000032F                        759 00167$:
                                    760 ;src/player.c:286: uint8_t pressedA = (joypadCurrent & J_A && !(joypadPrevious & J_A));
    0000032F 3Ar00r00         [13]  761 	ld	a, (_joypadCurrent+0)
    00000332 07               [ 4]  762 	rlca
    00000333 07               [ 4]  763 	rlca
    00000334 07               [ 4]  764 	rlca
    00000335 30 08            [12]  765 	jr	NC, 00195$
    00000337 3Ar00r00         [13]  766 	ld	a, (_joypadPrevious+0)
    0000033A 07               [ 4]  767 	rlca
    0000033B 07               [ 4]  768 	rlca
    0000033C 07               [ 4]  769 	rlca
    0000033D 30 04            [12]  770 	jr	NC, 00196$
    0000033F                        771 00195$:
    0000033F 0E 00            [ 7]  772 	ld	c, #0x00
    00000341 18 02            [12]  773 	jr	00197$
    00000343                        774 00196$:
    00000343 0E 01            [ 7]  775 	ld	c, #0x01
    00000345                        776 00197$:
                                    777 ;src/player.c:287: uint8_t pressedUp = (joypadCurrent & J_UP && !(joypadPrevious & J_UP));
    00000345 3Ar00r00         [13]  778 	ld	a, (_joypadCurrent+0)
    00000348 E6 01            [ 7]  779 	and	a,#0x01
    0000034A 28 07            [12]  780 	jr	Z, 00198$
    0000034C 3Ar00r00         [13]  781 	ld	a, (_joypadPrevious+0)
    0000034F E6 01            [ 7]  782 	and	a,#0x01
    00000351 28 03            [12]  783 	jr	Z, 00199$
    00000353                        784 00198$:
    00000353 AF               [ 4]  785 	xor	a, a
    00000354 18 02            [12]  786 	jr	00200$
    00000356                        787 00199$:
    00000356 3E 01            [ 7]  788 	ld	a, #0x01
    00000358                        789 00200$:
                                    790 ;src/player.c:288: uint8_t pressedAOrUp = pressedA||pressedUp;
    00000358 0C               [ 4]  791 	inc	c
    00000359 0D               [ 4]  792 	dec	c
    0000035A 20 06            [12]  793 	jr	NZ, 00202$
    0000035C B7               [ 4]  794 	or	a,a
    0000035D 20 03            [12]  795 	jr	NZ, 00202$
    0000035F 4F               [ 4]  796 	ld	c,a
    00000360 18 02            [12]  797 	jr	00203$
    00000362                        798 00202$:
    00000362 0E 01            [ 7]  799 	ld	c, #0x01
    00000364                        800 00203$:
                                    801 ;src/player.c:291: if(grounded && pressedAOrUp){
    00000364 DD 7E F7         [19]  802 	ld	a, -9 (ix)
    00000367 B7               [ 4]  803 	or	a, a
    00000368 28 0F            [12]  804 	jr	Z, 00169$
    0000036A 79               [ 4]  805 	ld	a, c
    0000036B B7               [ 4]  806 	or	a, a
    0000036C 28 0B            [12]  807 	jr	Z, 00169$
                                    808 ;src/player.c:292: playerYVelocity=-PLAYER_CHARACTER_JUMP_VELOCITY;
    0000036E 21 DA FD         [10]  809 	ld	hl, #0xfdda
    00000371 22r06r00         [16]  810 	ld	(_playerYVelocity), hl
                                    811 ;src/player.c:293: playerJumpIncrease=PLAYER_CHARACTER_INCREASE_JUMP_TIMER_MAX;
    00000374 21r01r00         [10]  812 	ld	hl, #_playerJumpIncrease
    00000377 36 14            [10]  813 	ld	(hl), #0x14
    00000379                        814 00169$:
                                    815 ;src/player.c:261: if(playerYVelocity>=0){
    00000379 ED 4Br06r00      [20]  816 	ld	bc, (_playerYVelocity)
                                    817 ;src/player.c:297: if(!grounded){
    0000037D DD 7E F7         [19]  818 	ld	a, -9 (ix)
    00000380 B7               [ 4]  819 	or	a, a
    00000381 20 28            [12]  820 	jr	NZ, 00180$
                                    821 ;src/player.c:300: if(playerJumpIncrease>0)playerJumpIncrease--;
    00000383 3Ar01r00         [13]  822 	ld	a, (_playerJumpIncrease+0)
    00000386 B7               [ 4]  823 	or	a, a
    00000387 28 04            [12]  824 	jr	Z, 00172$
    00000389 21r01r00         [10]  825 	ld	hl, #_playerJumpIncrease
    0000038C 35               [11]  826 	dec	(hl)
    0000038D                        827 00172$:
                                    828 ;src/player.c:139: int16_t moveSpeed = (joypadCurrent & J_B) ?PLAYER_CHARACTER_RUN_VELOCITY:PLAYER_CHARACTER_WALK_VELOCITY;
    0000038D 3Ar00r00         [13]  829 	ld	a, (_joypadCurrent+0)
                                    830 ;src/player.c:303: if(!((joypadCurrent & J_A||joypadCurrent & J_UP))||playerJumpIncrease==0){
    00000390 CB 6F            [ 8]  831 	bit	5, a
    00000392 20 03            [12]  832 	jr	NZ, 00176$
    00000394 0F               [ 4]  833 	rrca
    00000395 30 06            [12]  834 	jr	NC, 00173$
    00000397                        835 00176$:
    00000397 3Ar01r00         [13]  836 	ld	a, (_playerJumpIncrease+0)
    0000039A B7               [ 4]  837 	or	a, a
    0000039B 20 18            [12]  838 	jr	NZ, 00181$
    0000039D                        839 00173$:
                                    840 ;src/player.c:306: playerYVelocity+=GRAVTY;
    0000039D 21 2D 00         [10]  841 	ld	hl, #0x002d
    000003A0 09               [11]  842 	add	hl, bc
    000003A1 22r06r00         [16]  843 	ld	(_playerYVelocity), hl
                                    844 ;src/player.c:309: playerJumpIncrease=0;
    000003A4 21r01r00         [10]  845 	ld	hl, #_playerJumpIncrease
    000003A7 36 00            [10]  846 	ld	(hl), #0x00
    000003A9 18 0A            [12]  847 	jr	00181$
    000003AB                        848 00180$:
                                    849 ;src/player.c:313: }else if(playerYVelocity>=0){
    000003AB CB 78            [ 8]  850 	bit	7, b
    000003AD 20 06            [12]  851 	jr	NZ, 00181$
                                    852 ;src/player.c:316: playerYVelocity=0;
    000003AF 21 00 00         [10]  853 	ld	hl, #0x0000
    000003B2 22r06r00         [16]  854 	ld	(_playerYVelocity), hl
    000003B5                        855 00181$:
                                    856 ;src/player.c:320: playerX+=playerXVelocity>>4;
    000003B5 3Ar04r00         [13]  857 	ld	a, (_playerXVelocity+0)
    000003B8 DD 77 F8         [19]  858 	ld	-8 (ix), a
    000003BB 3Ar05r00         [13]  859 	ld	a, (_playerXVelocity+1)
    000003BE DD 77 F9         [19]  860 	ld	-7 (ix), a
    000003C1 DD CB F9 2E      [23]  861 	sra	-7 (ix)
    000003C5 DD CB F8 1E      [23]  862 	rr	-8 (ix)
    000003C9 DD CB F9 2E      [23]  863 	sra	-7 (ix)
    000003CD DD CB F8 1E      [23]  864 	rr	-8 (ix)
    000003D1 DD CB F9 2E      [23]  865 	sra	-7 (ix)
    000003D5 DD CB F8 1E      [23]  866 	rr	-8 (ix)
    000003D9 DD CB F9 2E      [23]  867 	sra	-7 (ix)
    000003DD DD CB F8 1E      [23]  868 	rr	-8 (ix)
    000003E1 DD 7E F8         [19]  869 	ld	a, -8 (ix)
    000003E4 DD 5E F9         [19]  870 	ld	e, -7 (ix)
    000003E7 21r00r00         [10]  871 	ld	hl, #_playerX
    000003EA 86               [ 7]  872 	add	a, (hl)
    000003EB 77               [ 7]  873 	ld	(hl), a
    000003EC 23               [ 6]  874 	inc	hl
    000003ED 7B               [ 4]  875 	ld	a, e
    000003EE 8E               [ 7]  876 	adc	a, (hl)
    000003EF 77               [ 7]  877 	ld	(hl), a
                                    878 ;src/player.c:321: playerY+=playerYVelocity>>4;
    000003F0 2Ar06r00         [16]  879 	ld	hl, (_playerYVelocity)
    000003F3 CB 2C            [ 8]  880 	sra	h
    000003F5 CB 1D            [ 8]  881 	rr	l
    000003F7 CB 2C            [ 8]  882 	sra	h
    000003F9 CB 1D            [ 8]  883 	rr	l
    000003FB CB 2C            [ 8]  884 	sra	h
    000003FD CB 1D            [ 8]  885 	rr	l
    000003FF CB 2C            [ 8]  886 	sra	h
    00000401 CB 1D            [ 8]  887 	rr	l
    00000403 4D               [ 4]  888 	ld	c, l
    00000404 5C               [ 4]  889 	ld	e, h
    00000405 79               [ 4]  890 	ld	a, c
    00000406 21r02r00         [10]  891 	ld	hl, #_playerY
    00000409 86               [ 7]  892 	add	a, (hl)
    0000040A 77               [ 7]  893 	ld	(hl), a
    0000040B 23               [ 6]  894 	inc	hl
    0000040C 7B               [ 4]  895 	ld	a, e
    0000040D 8E               [ 7]  896 	adc	a, (hl)
    0000040E 77               [ 7]  897 	ld	(hl), a
                                    898 ;src/player.c:324: playerRealX = playerX>>4;
    0000040F 3Ar00r00         [13]  899 	ld	a, (_playerX+0)
    00000412 DD 77 FA         [19]  900 	ld	-6 (ix), a
    00000415 3Ar01r00         [13]  901 	ld	a, (_playerX+1)
    00000418 DD 77 FB         [19]  902 	ld	-5 (ix), a
    0000041B DD CB FB 3E      [23]  903 	srl	-5 (ix)
    0000041F DD CB FA 1E      [23]  904 	rr	-6 (ix)
    00000423 DD CB FB 3E      [23]  905 	srl	-5 (ix)
    00000427 DD CB FA 1E      [23]  906 	rr	-6 (ix)
    0000042B DD CB FB 3E      [23]  907 	srl	-5 (ix)
    0000042F DD CB FA 1E      [23]  908 	rr	-6 (ix)
    00000433 DD CB FB 3E      [23]  909 	srl	-5 (ix)
    00000437 DD CB FA 1E      [23]  910 	rr	-6 (ix)
                                    911 ;src/player.c:325: playerRealY = playerY>>4;
    0000043B 3Ar02r00         [13]  912 	ld	a, (_playerY+0)
    0000043E DD 77 FC         [19]  913 	ld	-4 (ix), a
    00000441 3Ar03r00         [13]  914 	ld	a, (_playerY+1)
    00000444 DD 77 FD         [19]  915 	ld	-3 (ix), a
    00000447 DD CB FD 3E      [23]  916 	srl	-3 (ix)
    0000044B DD CB FC 1E      [23]  917 	rr	-4 (ix)
    0000044F DD CB FD 3E      [23]  918 	srl	-3 (ix)
    00000453 DD CB FC 1E      [23]  919 	rr	-4 (ix)
    00000457 DD CB FD 3E      [23]  920 	srl	-3 (ix)
    0000045B DD CB FC 1E      [23]  921 	rr	-4 (ix)
    0000045F DD CB FD 3E      [23]  922 	srl	-3 (ix)
    00000463 DD CB FC 1E      [23]  923 	rr	-4 (ix)
                                    924 ;src/player.c:249: if(IsTileSolid(playerRealX+PLAYER_CHARACTER_BOUNDING_BOX_HALF_WIDTH,playerRealY+2)||IsTileSolid(playerRealX+PLAYER_CHARACTER_BOUNDING_BOX_HALF_WIDTH,playerRealY+PLAYER_CHARACTER_BOUNDING_BOX_HALF_HEIGHT)||IsTileSolid(playerRealX+PLAYER_CHARACTER_BOUNDING_BOX_HALF_WIDTH,playerRealY+(PLAYER_CHARACTER_BOUNDING_BOX_HEIGHT-2)))playerXVelocity=0;
    00000467 DD 7E FA         [19]  925 	ld	a, -6 (ix)
    0000046A DD 77 FE         [19]  926 	ld	-2 (ix), a
    0000046D DD 7E FB         [19]  927 	ld	a, -5 (ix)
    00000470 DD 77 FF         [19]  928 	ld	-1 (ix), a
                                    929 ;src/player.c:328: if(playerRealX>=(DEVICE_SCREEN_PX_WIDTH>>1)){
    00000473 DD 7E FA         [19]  930 	ld	a, -6 (ix)
    00000476 D6 80            [ 7]  931 	sub	a, #0x80
    00000478 DD 7E FB         [19]  932 	ld	a, -5 (ix)
    0000047B DE 00            [ 7]  933 	sbc	a, #0x00
    0000047D 38 2A            [12]  934 	jr	C, 00185$
                                    935 ;src/player.c:329: uint16_t max = currentLevelWidth-DEVICE_SCREEN_PX_WIDTH;
    0000047F 2Ar00r00         [16]  936 	ld	hl, (_currentLevelWidth)
    00000482 4D               [ 4]  937 	ld	c, l
    00000483 7C               [ 4]  938 	ld	a,h
    00000484 3D               [ 4]  939 	dec	a
    00000485 47               [ 4]  940 	ld	b, a
                                    941 ;src/player.c:330: camera_x=playerRealX-(DEVICE_SCREEN_PX_WIDTH>>1);
    00000486 DD 7E FE         [19]  942 	ld	a, -2 (ix)
    00000489 C6 80            [ 7]  943 	add	a, #0x80
    0000048B 6F               [ 4]  944 	ld	l, a
                                    945 ;	spillPairReg hl
                                    946 ;	spillPairReg hl
    0000048C DD 7E FF         [19]  947 	ld	a, -1 (ix)
    0000048F CE FF            [ 7]  948 	adc	a, #0xff
    00000491 67               [ 4]  949 	ld	h, a
                                    950 ;	spillPairReg hl
                                    951 ;	spillPairReg hl
    00000492 22r00r00         [16]  952 	ld	(_camera_x), hl
                                    953 ;src/player.c:333: if(camera_x>max)camera_x=max;
    00000495 79               [ 4]  954 	ld	a, c
    00000496 FD 21r00r00      [14]  955 	ld	iy, #_camera_x
    0000049A FD 96 00         [19]  956 	sub	a, 0 (iy)
    0000049D 78               [ 4]  957 	ld	a, b
    0000049E FD 9E 01         [19]  958 	sbc	a, 1 (iy)
    000004A1 30 0C            [12]  959 	jr	NC, 00186$
    000004A3 ED 43r00r00      [20]  960 	ld	(_camera_x), bc
    000004A7 18 06            [12]  961 	jr	00186$
    000004A9                        962 00185$:
                                    963 ;src/player.c:335: else camera_x=0;
    000004A9 21 00 00         [10]  964 	ld	hl, #0x0000
    000004AC 22r00r00         [16]  965 	ld	(_camera_x), hl
    000004AF                        966 00186$:
                                    967 ;src/player.c:345: uint8_t frame = grounded ? (turning ? 5 :((playerXVelocity>>4)==0 ? 0 : threeFrameCounterValue)) : (playerYVelocity<0 ? 3 : 4);
    000004AF DD 7E F7         [19]  968 	ld	a, -9 (ix)
    000004B2 B7               [ 4]  969 	or	a, a
    000004B3 28 22            [12]  970 	jr	Z, 00204$
    000004B5 DD 7E F6         [19]  971 	ld	a, -10 (ix)
    000004B8 B7               [ 4]  972 	or	a, a
    000004B9 28 06            [12]  973 	jr	Z, 00206$
    000004BB DD 36 F9 05      [19]  974 	ld	-7 (ix), #0x05
    000004BF 18 11            [12]  975 	jr	00207$
    000004C1                        976 00206$:
    000004C1 DD 7E F9         [19]  977 	ld	a, -7 (ix)
    000004C4 DD B6 F8         [19]  978 	or	a, -8 (ix)
    000004C7 20 03            [12]  979 	jr	NZ, 00208$
    000004C9 AF               [ 4]  980 	xor	a, a
    000004CA 18 03            [12]  981 	jr	00209$
    000004CC                        982 00208$:
    000004CC DD 7E F5         [19]  983 	ld	a, -11 (ix)
    000004CF                        984 00209$:
    000004CF DD 77 F9         [19]  985 	ld	-7 (ix), a
    000004D2                        986 00207$:
    000004D2 DD 7E F9         [19]  987 	ld	a, -7 (ix)
    000004D5 18 1C            [12]  988 	jr	00205$
    000004D7                        989 00204$:
    000004D7 2Ar06r00         [16]  990 	ld	hl, (_playerYVelocity)
    000004DA DD 75 F8         [19]  991 	ld	-8 (ix), l
    000004DD DD 74 F9         [19]  992 	ld	-7 (ix), h
    000004E0 DD CB F9 7E      [20]  993 	bit	7, -7 (ix)
    000004E4 28 06            [12]  994 	jr	Z, 00210$
    000004E6 DD 36 F9 03      [19]  995 	ld	-7 (ix), #0x03
    000004EA 18 04            [12]  996 	jr	00211$
    000004EC                        997 00210$:
    000004EC DD 36 F9 04      [19]  998 	ld	-7 (ix), #0x04
    000004F0                        999 00211$:
    000004F0 DD 7E F9         [19] 1000 	ld	a, -7 (ix)
    000004F3                       1001 00205$:
    000004F3 DD 77 F7         [19] 1002 	ld	-9 (ix), a
                                   1003 ;src/player.c:346: uint8_t directionOffset = facingRight ? 0 : 6;
    000004F6 3Ar00r00         [13] 1004 	ld	a, (_facingRight+0)
    000004F9 B7               [ 4] 1005 	or	a, a
    000004FA 28 03            [12] 1006 	jr	Z, 00212$
    000004FC AF               [ 4] 1007 	xor	a, a
    000004FD 18 02            [12] 1008 	jr	00213$
    000004FF                       1009 00212$:
    000004FF 3E 06            [ 7] 1010 	ld	a, #0x06
    00000501                       1011 00213$:
                                   1012 ;src/player.c:348: uint8_t spritesUsed = DrawPlayer(playerRealX,playerRealY,frame+directionOffset);
    00000501 DD 77 F9         [19] 1013 	ld	-7 (ix), a
    00000504 DD 86 F7         [19] 1014 	add	a, -9 (ix)
    00000507 DD 77 F9         [19] 1015 	ld	-7 (ix), a
    0000050A F5               [11] 1016 	push	af
    0000050B 33               [ 6] 1017 	inc	sp
    0000050C DD 5E FC         [19] 1018 	ld	e, -4 (ix)
    0000050F DD 56 FD         [19] 1019 	ld	d, -3 (ix)
    00000512 DD 6E FA         [19] 1020 	ld	l, -6 (ix)
                                   1021 ;	spillPairReg hl
                                   1022 ;	spillPairReg hl
    00000515 DD 66 FB         [19] 1023 	ld	h, -5 (ix)
                                   1024 ;	spillPairReg hl
                                   1025 ;	spillPairReg hl
    00000518 CDr42r00         [17] 1026 	call	_DrawPlayer
    0000051B 4F               [ 4] 1027 	ld	c, a
                                   1028 ;src/player.c:351: if(playerRealX>currentLevelWidth-32){
    0000051C 2Ar00r00         [16] 1029 	ld	hl, (_currentLevelWidth)
    0000051F 7D               [ 4] 1030 	ld	a, l
    00000520 C6 E0            [ 7] 1031 	add	a, #0xe0
    00000522 47               [ 4] 1032 	ld	b, a
    00000523 7C               [ 4] 1033 	ld	a, h
    00000524 CE FF            [ 7] 1034 	adc	a, #0xff
    00000526 5F               [ 4] 1035 	ld	e, a
    00000527 78               [ 4] 1036 	ld	a, b
    00000528 DD 96 FE         [19] 1037 	sub	a, -2 (ix)
    0000052B 7B               [ 4] 1038 	ld	a, e
    0000052C DD 9E FF         [19] 1039 	sbc	a, -1 (ix)
    0000052F 30 04            [12] 1040 	jr	NC, 00188$
                                   1041 ;src/player.c:352: nextLevel++;
    00000531 21r00r00         [10] 1042 	ld	hl, #_nextLevel
    00000534 34               [11] 1043 	inc	(hl)
    00000535                       1044 00188$:
                                   1045 ;src/player.c:355: return spritesUsed;
    00000535 79               [ 4] 1046 	ld	a, c
                                   1047 ;src/player.c:356: }
    00000536 DD F9            [10] 1048 	ld	sp, ix
    00000538 DD E1            [14] 1049 	pop	ix
    0000053A C9               [10] 1050 	ret
                                   1051 	.area _CODE_255
                                   1052 	.area _INITIALIZER
    00000000                       1053 __xinit__facingRight:
    00000000 01                    1054 	.db #0x01	; 1
    00000001                       1055 __xinit__playerJumpIncrease:
    00000001 00                    1056 	.db #0x00	; 0
    00000002                       1057 __xinit__threeFrameCounter:
    00000002 00                    1058 	.db #0x00	; 0
                                   1059 	.area _CABS (ABS)
