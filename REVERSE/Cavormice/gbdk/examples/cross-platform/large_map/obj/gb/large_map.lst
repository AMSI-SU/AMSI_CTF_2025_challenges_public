                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler 
                                      3 ; Version 4.4.1 #14650 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module large_map
                                      6 	.optsdcc -msm83
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _main
                                     12 	.globl _init_camera
                                     13 	.globl _set_camera
                                     14 	.globl _set_bkg_palette
                                     15 	.globl _set_bkg_submap
                                     16 	.globl _set_bkg_data
                                     17 	.globl _display_off
                                     18 	.globl _vsync
                                     19 	.globl _joypad
                                     20 	.globl _redraw
                                     21 	.globl _old_map_pos_y
                                     22 	.globl _old_map_pos_x
                                     23 	.globl _map_pos_y
                                     24 	.globl _map_pos_x
                                     25 	.globl _old_camera_y
                                     26 	.globl _old_camera_x
                                     27 	.globl _camera_y
                                     28 	.globl _camera_x
                                     29 	.globl _joy
                                     30 ;--------------------------------------------------------
                                     31 ; special function registers
                                     32 ;--------------------------------------------------------
                                     33 ;--------------------------------------------------------
                                     34 ; ram data
                                     35 ;--------------------------------------------------------
                                     36 	.area _DATA
    00000000                         37 _joy::
    00000000                         38 	.ds 1
    00000001                         39 _camera_x::
    00000001                         40 	.ds 2
    00000003                         41 _camera_y::
    00000003                         42 	.ds 2
    00000005                         43 _old_camera_x::
    00000005                         44 	.ds 2
    00000007                         45 _old_camera_y::
    00000007                         46 	.ds 2
    00000009                         47 _map_pos_x::
    00000009                         48 	.ds 1
    0000000A                         49 _map_pos_y::
    0000000A                         50 	.ds 1
    0000000B                         51 _old_map_pos_x::
    0000000B                         52 	.ds 1
    0000000C                         53 _old_map_pos_y::
    0000000C                         54 	.ds 1
    0000000D                         55 _redraw::
    0000000D                         56 	.ds 1
                                     57 ;--------------------------------------------------------
                                     58 ; ram data
                                     59 ;--------------------------------------------------------
                                     60 	.area _INITIALIZED
                                     61 ;--------------------------------------------------------
                                     62 ; absolute external ram data
                                     63 ;--------------------------------------------------------
                                     64 	.area _DABS (ABS)
                                     65 ;--------------------------------------------------------
                                     66 ; global & static initialisations
                                     67 ;--------------------------------------------------------
                                     68 	.area _HOME
                                     69 	.area _GSINIT
                                     70 	.area _GSFINAL
                                     71 	.area _GSINIT
                                     72 ;--------------------------------------------------------
                                     73 ; Home
                                     74 ;--------------------------------------------------------
                                     75 	.area _HOME
                                     76 	.area _HOME
                                     77 ;--------------------------------------------------------
                                     78 ; code
                                     79 ;--------------------------------------------------------
                                     80 	.area _CODE
                                     81 ;src/large_map.c:82: void set_camera(void)
                                     82 ;	---------------------------------
                                     83 ; Function set_camera
                                     84 ; ---------------------------------
    00000000                         85 _set_camera::
    00000000 3B               [ 8]   86 	dec	sp
    00000001 3B               [ 8]   87 	dec	sp
                                     88 ;src/large_map.c:85: move_bkg(camera_x, WRAP_SCROLL_Y(camera_y + SCROLL_Y_OFFSET));
    00000002 21r03r00         [12]   89 	ld	hl, #_camera_y
    00000005 4E               [ 8]   90 	ld	c, (hl)
    00000006 FAr01r00         [16]   91 	ld	a, (#_camera_x)
    00000009 E0r00            [12]   92 	ldh	(_SCX_REG + 0), a
                                     93 ;../../../include/gb/gb.h:1449: SCX_REG=x, SCY_REG=y;
    0000000B 79               [ 4]   94 	ld	a, c
    0000000C E0r00            [12]   95 	ldh	(_SCY_REG + 0), a
                                     96 ;src/large_map.c:87: map_pos_y = (uint8_t)(camera_y >> 3u);
    0000000E 21r03r00         [12]   97 	ld	hl, #_camera_y
    00000011 2A               [ 8]   98 	ld	a, (hl+)
    00000012 4F               [ 4]   99 	ld	c, a
    00000013 46               [ 8]  100 	ld	b, (hl)
    00000014 CB 38            [ 8]  101 	srl	b
    00000016 CB 19            [ 8]  102 	rr	c
    00000018 CB 38            [ 8]  103 	srl	b
    0000001A CB 19            [ 8]  104 	rr	c
    0000001C CB 38            [ 8]  105 	srl	b
    0000001E CB 19            [ 8]  106 	rr	c
    00000020 21r0Ar00         [12]  107 	ld	hl, #_map_pos_y
    00000023 71               [ 8]  108 	ld	(hl), c
                                    109 ;src/large_map.c:88: if (map_pos_y != old_map_pos_y)
    00000024 7E               [ 8]  110 	ld	a, (hl)
    00000025 21r0Cr00         [12]  111 	ld	hl, #_old_map_pos_y
    00000028 96               [ 8]  112 	sub	a, (hl)
    00000029 CAr83r01         [16]  113 	jp	Z,00107$
                                    114 ;src/large_map.c:92: set_submap_indices(
    0000002C 21r09r00         [12]  115 	ld	hl, #_map_pos_x
    0000002F 4E               [ 8]  116 	ld	c, (hl)
    00000030 06 00            [ 8]  117 	ld	b, #0x00
    00000032 3E 9C            [ 8]  118 	ld	a, #0x9c
    00000034 96               [ 8]  119 	sub	a, (hl)
    00000035 F8 00            [12]  120 	ldhl	sp,	#0
    00000037 77               [ 8]  121 	ld	(hl), a
    00000038 FAr0Ar00         [16]  122 	ld	a, (#_map_pos_y)
    0000003B F8 01            [12]  123 	ldhl	sp,	#1
    0000003D 77               [ 8]  124 	ld	(hl), a
    0000003E 3E 9C            [ 8]  125 	ld	a, #0x9c
    00000040 91               [ 4]  126 	sub	a, c
    00000041 4F               [ 4]  127 	ld	c, a
    00000042 9F               [ 4]  128 	sbc	a, a
    00000043 90               [ 4]  129 	sub	a, b
    00000044 47               [ 4]  130 	ld	b, a
    00000045 58               [ 4]  131 	ld	e, b
    00000046 16 00            [ 8]  132 	ld	d, #0x00
    00000048 3E 15            [ 8]  133 	ld	a, #0x15
    0000004A B9               [ 4]  134 	cp	a, c
    0000004B 3E 00            [ 8]  135 	ld	a, #0x00
    0000004D 98               [ 4]  136 	sbc	a, b
    0000004E CB 7B            [ 8]  137 	bit	7, e
    00000050 28 07            [12]  138 	jr	Z, 00245$
    00000052 CB 7A            [ 8]  139 	bit	7, d
    00000054 20 08            [12]  140 	jr	NZ, 00246$
    00000056 BF               [ 4]  141 	cp	a, a
    00000057 18 05            [12]  142 	jr	00246$
    00000059                        143 00245$:
    00000059 CB 7A            [ 8]  144 	bit	7, d
    0000005B 28 01            [12]  145 	jr	Z, 00246$
    0000005D 37               [ 4]  146 	scf
    0000005E                        147 00246$:
    0000005E 3E 00            [ 8]  148 	ld	a, #0x00
    00000060 17               [ 4]  149 	rla
    00000061 4F               [ 4]  150 	ld	c, a
                                    151 ;src/large_map.c:90: if (camera_y < old_camera_y)
    00000062 11r03r00         [12]  152 	ld	de, #_camera_y
    00000065 21r07r00         [12]  153 	ld	hl, #_old_camera_y
    00000068 1A               [ 8]  154 	ld	a, (de)
    00000069 13               [ 8]  155 	inc	de
    0000006A 96               [ 8]  156 	sub	a, (hl)
    0000006B 23               [ 8]  157 	inc	hl
    0000006C 1A               [ 8]  158 	ld	a, (de)
    0000006D 9E               [ 8]  159 	sbc	a, (hl)
    0000006E D2rF4r00         [16]  160 	jp	NC, 00104$
                                    161 ;src/large_map.c:92: set_submap_indices(
    00000071 79               [ 4]  162 	ld	a, c
    00000072 B7               [ 4]  163 	or	a, a
    00000073 28 04            [12]  164 	jr	Z, 00130$
    00000075 3E 15            [ 8]  165 	ld	a, #0x15
    00000077 18 03            [12]  166 	jr	00131$
    00000079                        167 00130$:
    00000079 F8 00            [12]  168 	ldhl	sp,	#0
    0000007B 7E               [ 8]  169 	ld	a, (hl)
    0000007C                        170 00131$:
    0000007C 26 9C            [ 8]  171 	ld	h, #0x9c
                                    172 ;	spillPairReg hl
                                    173 ;	spillPairReg hl
    0000007E E5               [16]  174 	push	hl
    0000007F 33               [ 8]  175 	inc	sp
    00000080 11r00r00         [12]  176 	ld	de, #_bigmap_map
    00000083 D5               [16]  177 	push	de
    00000084 26 01            [ 8]  178 	ld	h, #0x01
                                    179 ;	spillPairReg hl
                                    180 ;	spillPairReg hl
    00000086 E5               [16]  181 	push	hl
    00000087 33               [ 8]  182 	inc	sp
    00000088 F5               [16]  183 	push	af
    00000089 33               [ 8]  184 	inc	sp
    0000008A F8 06            [12]  185 	ldhl	sp,	#6
    0000008C 7E               [ 8]  186 	ld	a, (hl)
    0000008D F5               [16]  187 	push	af
    0000008E 33               [ 8]  188 	inc	sp
    0000008F FAr09r00         [16]  189 	ld	a, (#_map_pos_x)
    00000092 F5               [16]  190 	push	af
    00000093 33               [ 8]  191 	inc	sp
    00000094 CDr00r00         [24]  192 	call	_set_bkg_submap
    00000097 E8 07            [16]  193 	add	sp, #7
                                    194 ;src/large_map.c:99: set_submap_attributes(
    00000099 01r00r00         [12]  195 	ld	bc, #_bigmap_map
    0000009C 21r09r00         [12]  196 	ld	hl, #_map_pos_x
    0000009F 5E               [ 8]  197 	ld	e, (hl)
    000000A0 16 00            [ 8]  198 	ld	d, #0x00
    000000A2 3E 9C            [ 8]  199 	ld	a, #0x9c
    000000A4 93               [ 4]  200 	sub	a, e
    000000A5 6F               [ 4]  201 	ld	l, a
                                    202 ;	spillPairReg hl
                                    203 ;	spillPairReg hl
    000000A6 9F               [ 4]  204 	sbc	a, a
    000000A7 92               [ 4]  205 	sub	a, d
    000000A8 67               [ 4]  206 	ld	h, a
                                    207 ;	spillPairReg hl
                                    208 ;	spillPairReg hl
    000000A9 5C               [ 4]  209 	ld	e, h
    000000AA 16 00            [ 8]  210 	ld	d, #0x00
    000000AC 3E 15            [ 8]  211 	ld	a, #0x15
    000000AE BD               [ 4]  212 	cp	a, l
    000000AF 3E 00            [ 8]  213 	ld	a, #0x00
    000000B1 9C               [ 4]  214 	sbc	a, h
    000000B2 CB 7B            [ 8]  215 	bit	7, e
    000000B4 28 07            [12]  216 	jr	Z, 00247$
    000000B6 CB 7A            [ 8]  217 	bit	7, d
    000000B8 20 08            [12]  218 	jr	NZ, 00248$
    000000BA BF               [ 4]  219 	cp	a, a
    000000BB 18 05            [12]  220 	jr	00248$
    000000BD                        221 00247$:
    000000BD CB 7A            [ 8]  222 	bit	7, d
    000000BF 28 01            [12]  223 	jr	Z, 00248$
    000000C1 37               [ 4]  224 	scf
    000000C2                        225 00248$:
    000000C2 30 04            [12]  226 	jr	NC, 00132$
    000000C4 16 15            [ 8]  227 	ld	d, #0x15
    000000C6 18 07            [12]  228 	jr	00133$
    000000C8                        229 00132$:
    000000C8 3E 9C            [ 8]  230 	ld	a, #0x9c
    000000CA 21r09r00         [12]  231 	ld	hl, #_map_pos_x
    000000CD 96               [ 8]  232 	sub	a, (hl)
    000000CE 57               [ 4]  233 	ld	d, a
    000000CF                        234 00133$:
    000000CF 21r0Ar00         [12]  235 	ld	hl, #_map_pos_y
    000000D2 66               [ 8]  236 	ld	h, (hl)
                                    237 ;	spillPairReg hl
                                    238 ;	spillPairReg hl
    000000D3 FAr09r00         [16]  239 	ld	a, (_map_pos_x)
    000000D6 6F               [ 4]  240 	ld	l, a
                                    241 ;	spillPairReg hl
                                    242 ;	spillPairReg hl
                                    243 ;../../../include/gb/gb.h:1358: VBK_REG = VBK_ATTRIBUTES;
    000000D7 3E 01            [ 8]  244 	ld	a, #0x01
    000000D9 E0r00            [12]  245 	ldh	(_VBK_REG + 0), a
                                    246 ;../../../include/gb/gb.h:1359: set_bkg_submap(x, y, w, h, map, map_w);
    000000DB 3E 9C            [ 8]  247 	ld	a, #0x9c
    000000DD F5               [16]  248 	push	af
    000000DE 33               [ 8]  249 	inc	sp
    000000DF C5               [16]  250 	push	bc
    000000E0 3E 01            [ 8]  251 	ld	a, #0x01
    000000E2 F5               [16]  252 	push	af
    000000E3 33               [ 8]  253 	inc	sp
    000000E4 5C               [ 4]  254 	ld	e, h
    000000E5 D5               [16]  255 	push	de
    000000E6 7D               [ 4]  256 	ld	a, l
    000000E7 F5               [16]  257 	push	af
    000000E8 33               [ 8]  258 	inc	sp
    000000E9 CDr00r00         [24]  259 	call	_set_bkg_submap
    000000EC E8 07            [16]  260 	add	sp, #7
                                    261 ;../../../include/gb/gb.h:1360: VBK_REG = VBK_TILES;
    000000EE AF               [ 4]  262 	xor	a, a
    000000EF E0r00            [12]  263 	ldh	(_VBK_REG + 0), a
                                    264 ;src/large_map.c:99: set_submap_attributes(
    000000F1 C3r7Dr01         [16]  265 	jp	00105$
    000000F4                        266 00104$:
                                    267 ;src/large_map.c:109: if ((bigmap_mapHeight - DEVICE_SCREEN_HEIGHT) > map_pos_y)
    000000F4 FAr0Ar00         [16]  268 	ld	a, (#_map_pos_y)
    000000F7 D6 30            [ 8]  269 	sub	a, #0x30
    000000F9 D2r7Dr01         [16]  270 	jp	NC, 00105$
                                    271 ;src/large_map.c:111: set_submap_indices(
    000000FC 79               [ 4]  272 	ld	a, c
    000000FD B7               [ 4]  273 	or	a, a
    000000FE 28 04            [12]  274 	jr	Z, 00134$
    00000100 06 15            [ 8]  275 	ld	b, #0x15
    00000102 18 03            [12]  276 	jr	00135$
    00000104                        277 00134$:
    00000104 F8 00            [12]  278 	ldhl	sp,	#0
    00000106 46               [ 8]  279 	ld	b, (hl)
    00000107                        280 00135$:
                                    281 ;src/large_map.c:79: return map_pos_y + DEVICE_SCREEN_HEIGHT;
    00000107 F8 01            [12]  282 	ldhl	sp,	#1
    00000109 7E               [ 8]  283 	ld	a, (hl)
    0000010A C6 12            [ 8]  284 	add	a, #0x12
                                    285 ;src/large_map.c:111: set_submap_indices(
    0000010C 26 9C            [ 8]  286 	ld	h, #0x9c
                                    287 ;	spillPairReg hl
                                    288 ;	spillPairReg hl
    0000010E E5               [16]  289 	push	hl
    0000010F 33               [ 8]  290 	inc	sp
    00000110 11r00r00         [12]  291 	ld	de, #_bigmap_map
    00000113 D5               [16]  292 	push	de
    00000114 26 01            [ 8]  293 	ld	h, #0x01
                                    294 ;	spillPairReg hl
                                    295 ;	spillPairReg hl
    00000116 68               [ 4]  296 	ld	l, b
    00000117 E5               [16]  297 	push	hl
    00000118 F5               [16]  298 	push	af
    00000119 33               [ 8]  299 	inc	sp
    0000011A FAr09r00         [16]  300 	ld	a, (#_map_pos_x)
    0000011D F5               [16]  301 	push	af
    0000011E 33               [ 8]  302 	inc	sp
    0000011F CDr00r00         [24]  303 	call	_set_bkg_submap
    00000122 E8 07            [16]  304 	add	sp, #7
                                    305 ;src/large_map.c:118: set_submap_attributes(
    00000124 21r09r00         [12]  306 	ld	hl, #_map_pos_x
    00000127 4E               [ 8]  307 	ld	c, (hl)
    00000128 06 00            [ 8]  308 	ld	b, #0x00
    0000012A 3E 9C            [ 8]  309 	ld	a, #0x9c
    0000012C 91               [ 4]  310 	sub	a, c
    0000012D 4F               [ 4]  311 	ld	c, a
    0000012E 9F               [ 4]  312 	sbc	a, a
    0000012F 90               [ 4]  313 	sub	a, b
    00000130 47               [ 4]  314 	ld	b, a
    00000131 58               [ 4]  315 	ld	e, b
    00000132 16 00            [ 8]  316 	ld	d, #0x00
    00000134 3E 15            [ 8]  317 	ld	a, #0x15
    00000136 B9               [ 4]  318 	cp	a, c
    00000137 3E 00            [ 8]  319 	ld	a, #0x00
    00000139 98               [ 4]  320 	sbc	a, b
    0000013A CB 7B            [ 8]  321 	bit	7, e
    0000013C 28 07            [12]  322 	jr	Z, 00249$
    0000013E CB 7A            [ 8]  323 	bit	7, d
    00000140 20 08            [12]  324 	jr	NZ, 00250$
    00000142 BF               [ 4]  325 	cp	a, a
    00000143 18 05            [12]  326 	jr	00250$
    00000145                        327 00249$:
    00000145 CB 7A            [ 8]  328 	bit	7, d
    00000147 28 01            [12]  329 	jr	Z, 00250$
    00000149 37               [ 4]  330 	scf
    0000014A                        331 00250$:
    0000014A 30 04            [12]  332 	jr	NC, 00136$
    0000014C 16 15            [ 8]  333 	ld	d, #0x15
    0000014E 18 07            [12]  334 	jr	00137$
    00000150                        335 00136$:
    00000150 3E 9C            [ 8]  336 	ld	a, #0x9c
    00000152 21r09r00         [12]  337 	ld	hl, #_map_pos_x
    00000155 96               [ 8]  338 	sub	a, (hl)
    00000156 57               [ 4]  339 	ld	d, a
    00000157                        340 00137$:
    00000157 FAr0Ar00         [16]  341 	ld	a, (#_map_pos_y)
                                    342 ;src/large_map.c:79: return map_pos_y + DEVICE_SCREEN_HEIGHT;
    0000015A C6 12            [ 8]  343 	add	a, #0x12
    0000015C 4F               [ 4]  344 	ld	c, a
                                    345 ;src/large_map.c:118: set_submap_attributes(
    0000015D 21r09r00         [12]  346 	ld	hl, #_map_pos_x
    00000160 46               [ 8]  347 	ld	b, (hl)
                                    348 ;../../../include/gb/gb.h:1358: VBK_REG = VBK_ATTRIBUTES;
    00000161 3E 01            [ 8]  349 	ld	a, #0x01
    00000163 E0r00            [12]  350 	ldh	(_VBK_REG + 0), a
                                    351 ;../../../include/gb/gb.h:1359: set_bkg_submap(x, y, w, h, map, map_w);
    00000165 3E 9C            [ 8]  352 	ld	a, #0x9c
    00000167 F5               [16]  353 	push	af
    00000168 33               [ 8]  354 	inc	sp
    00000169 21r00r00         [12]  355 	ld	hl, #_bigmap_map
    0000016C E5               [16]  356 	push	hl
    0000016D 3E 01            [ 8]  357 	ld	a, #0x01
    0000016F F5               [16]  358 	push	af
    00000170 33               [ 8]  359 	inc	sp
    00000171 59               [ 4]  360 	ld	e, c
    00000172 D5               [16]  361 	push	de
    00000173 C5               [16]  362 	push	bc
    00000174 33               [ 8]  363 	inc	sp
    00000175 CDr00r00         [24]  364 	call	_set_bkg_submap
    00000178 E8 07            [16]  365 	add	sp, #7
                                    366 ;../../../include/gb/gb.h:1360: VBK_REG = VBK_TILES;
    0000017A AF               [ 4]  367 	xor	a, a
    0000017B E0r00            [12]  368 	ldh	(_VBK_REG + 0), a
                                    369 ;src/large_map.c:118: set_submap_attributes(
    0000017D                        370 00105$:
                                    371 ;src/large_map.c:127: old_map_pos_y = map_pos_y; 
    0000017D FAr0Ar00         [16]  372 	ld	a, (#_map_pos_y)
    00000180 EAr0Cr00         [16]  373 	ld	(#_old_map_pos_y),a
    00000183                        374 00107$:
                                    375 ;src/large_map.c:130: map_pos_x = (uint8_t)(camera_x >> 3u);
    00000183 21r01r00         [12]  376 	ld	hl, #_camera_x
    00000186 2A               [ 8]  377 	ld	a, (hl+)
    00000187 4F               [ 4]  378 	ld	c, a
    00000188 46               [ 8]  379 	ld	b, (hl)
    00000189 CB 38            [ 8]  380 	srl	b
    0000018B CB 19            [ 8]  381 	rr	c
    0000018D CB 38            [ 8]  382 	srl	b
    0000018F CB 19            [ 8]  383 	rr	c
    00000191 CB 38            [ 8]  384 	srl	b
    00000193 CB 19            [ 8]  385 	rr	c
    00000195 21r09r00         [12]  386 	ld	hl, #_map_pos_x
    00000198 71               [ 8]  387 	ld	(hl), c
                                    388 ;src/large_map.c:131: if (map_pos_x != old_map_pos_x)
    00000199 7E               [ 8]  389 	ld	a, (hl)
    0000019A 21r0Br00         [12]  390 	ld	hl, #_old_map_pos_x
    0000019D 96               [ 8]  391 	sub	a, (hl)
    0000019E CArF1r02         [16]  392 	jp	Z,00114$
                                    393 ;src/large_map.c:99: set_submap_attributes(
    000001A1 FAr09r00         [16]  394 	ld	a, (#_map_pos_x)
    000001A4 F8 00            [12]  395 	ldhl	sp,	#0
    000001A6 77               [ 8]  396 	ld	(hl), a
                                    397 ;src/large_map.c:135: set_submap_indices(
    000001A7 21r0Ar00         [12]  398 	ld	hl, #_map_pos_y
    000001AA 4E               [ 8]  399 	ld	c, (hl)
    000001AB 06 00            [ 8]  400 	ld	b, #0x00
    000001AD 3E 42            [ 8]  401 	ld	a, #0x42
    000001AF 96               [ 8]  402 	sub	a, (hl)
    000001B0 F8 01            [12]  403 	ldhl	sp,	#1
    000001B2 77               [ 8]  404 	ld	(hl), a
    000001B3 3E 42            [ 8]  405 	ld	a, #0x42
    000001B5 91               [ 4]  406 	sub	a, c
    000001B6 4F               [ 4]  407 	ld	c, a
    000001B7 9F               [ 4]  408 	sbc	a, a
    000001B8 90               [ 4]  409 	sub	a, b
    000001B9 47               [ 4]  410 	ld	b, a
    000001BA 58               [ 4]  411 	ld	e, b
    000001BB 16 00            [ 8]  412 	ld	d, #0x00
    000001BD 3E 13            [ 8]  413 	ld	a, #0x13
    000001BF B9               [ 4]  414 	cp	a, c
    000001C0 3E 00            [ 8]  415 	ld	a, #0x00
    000001C2 98               [ 4]  416 	sbc	a, b
    000001C3 CB 7B            [ 8]  417 	bit	7, e
    000001C5 28 07            [12]  418 	jr	Z, 00252$
    000001C7 CB 7A            [ 8]  419 	bit	7, d
    000001C9 20 08            [12]  420 	jr	NZ, 00253$
    000001CB BF               [ 4]  421 	cp	a, a
    000001CC 18 05            [12]  422 	jr	00253$
    000001CE                        423 00252$:
    000001CE CB 7A            [ 8]  424 	bit	7, d
    000001D0 28 01            [12]  425 	jr	Z, 00253$
    000001D2 37               [ 4]  426 	scf
    000001D3                        427 00253$:
    000001D3 3E 00            [ 8]  428 	ld	a, #0x00
    000001D5 17               [ 4]  429 	rla
    000001D6 4F               [ 4]  430 	ld	c, a
                                    431 ;src/large_map.c:133: if (camera_x < old_camera_x)
    000001D7 11r01r00         [12]  432 	ld	de, #_camera_x
    000001DA 21r05r00         [12]  433 	ld	hl, #_old_camera_x
    000001DD 1A               [ 8]  434 	ld	a, (de)
    000001DE 13               [ 8]  435 	inc	de
    000001DF 96               [ 8]  436 	sub	a, (hl)
    000001E0 23               [ 8]  437 	inc	hl
    000001E1 1A               [ 8]  438 	ld	a, (de)
    000001E2 9E               [ 8]  439 	sbc	a, (hl)
    000001E3 30 7C            [12]  440 	jr	NC, 00111$
                                    441 ;src/large_map.c:135: set_submap_indices(
    000001E5 79               [ 4]  442 	ld	a, c
    000001E6 B7               [ 4]  443 	or	a, a
    000001E7 28 04            [12]  444 	jr	Z, 00138$
    000001E9 3E 13            [ 8]  445 	ld	a, #0x13
    000001EB 18 03            [12]  446 	jr	00139$
    000001ED                        447 00138$:
    000001ED F8 01            [12]  448 	ldhl	sp,	#1
    000001EF 7E               [ 8]  449 	ld	a, (hl)
    000001F0                        450 00139$:
    000001F0 26 9C            [ 8]  451 	ld	h, #0x9c
                                    452 ;	spillPairReg hl
                                    453 ;	spillPairReg hl
    000001F2 E5               [16]  454 	push	hl
    000001F3 33               [ 8]  455 	inc	sp
    000001F4 11r00r00         [12]  456 	ld	de, #_bigmap_map
    000001F7 D5               [16]  457 	push	de
    000001F8 67               [ 4]  458 	ld	h, a
    000001F9 2E 01            [ 8]  459 	ld	l, #0x01
    000001FB E5               [16]  460 	push	hl
    000001FC FAr0Ar00         [16]  461 	ld	a, (#_map_pos_y)
    000001FF F5               [16]  462 	push	af
    00000200 33               [ 8]  463 	inc	sp
    00000201 F8 06            [12]  464 	ldhl	sp,	#6
    00000203 7E               [ 8]  465 	ld	a, (hl)
    00000204 F5               [16]  466 	push	af
    00000205 33               [ 8]  467 	inc	sp
    00000206 CDr00r00         [24]  468 	call	_set_bkg_submap
    00000209 E8 07            [16]  469 	add	sp, #7
                                    470 ;src/large_map.c:142: set_submap_attributes(
    0000020B 01r00r00         [12]  471 	ld	bc, #_bigmap_map
    0000020E 21r0Ar00         [12]  472 	ld	hl, #_map_pos_y
    00000211 5E               [ 8]  473 	ld	e, (hl)
    00000212 16 00            [ 8]  474 	ld	d, #0x00
    00000214 3E 42            [ 8]  475 	ld	a, #0x42
    00000216 93               [ 4]  476 	sub	a, e
    00000217 6F               [ 4]  477 	ld	l, a
                                    478 ;	spillPairReg hl
                                    479 ;	spillPairReg hl
    00000218 9F               [ 4]  480 	sbc	a, a
    00000219 92               [ 4]  481 	sub	a, d
    0000021A 67               [ 4]  482 	ld	h, a
                                    483 ;	spillPairReg hl
                                    484 ;	spillPairReg hl
    0000021B 5C               [ 4]  485 	ld	e, h
    0000021C 16 00            [ 8]  486 	ld	d, #0x00
    0000021E 3E 13            [ 8]  487 	ld	a, #0x13
    00000220 BD               [ 4]  488 	cp	a, l
    00000221 3E 00            [ 8]  489 	ld	a, #0x00
    00000223 9C               [ 4]  490 	sbc	a, h
    00000224 CB 7B            [ 8]  491 	bit	7, e
    00000226 28 07            [12]  492 	jr	Z, 00254$
    00000228 CB 7A            [ 8]  493 	bit	7, d
    0000022A 20 08            [12]  494 	jr	NZ, 00255$
    0000022C BF               [ 4]  495 	cp	a, a
    0000022D 18 05            [12]  496 	jr	00255$
    0000022F                        497 00254$:
    0000022F CB 7A            [ 8]  498 	bit	7, d
    00000231 28 01            [12]  499 	jr	Z, 00255$
    00000233 37               [ 4]  500 	scf
    00000234                        501 00255$:
    00000234 30 04            [12]  502 	jr	NC, 00140$
    00000236 16 13            [ 8]  503 	ld	d, #0x13
    00000238 18 07            [12]  504 	jr	00141$
    0000023A                        505 00140$:
    0000023A 3E 42            [ 8]  506 	ld	a, #0x42
    0000023C 21r0Ar00         [12]  507 	ld	hl, #_map_pos_y
    0000023F 96               [ 8]  508 	sub	a, (hl)
    00000240 57               [ 4]  509 	ld	d, a
    00000241                        510 00141$:
    00000241 21r0Ar00         [12]  511 	ld	hl, #_map_pos_y
    00000244 66               [ 8]  512 	ld	h, (hl)
                                    513 ;	spillPairReg hl
                                    514 ;	spillPairReg hl
    00000245 FAr09r00         [16]  515 	ld	a, (_map_pos_x)
    00000248 6F               [ 4]  516 	ld	l, a
                                    517 ;	spillPairReg hl
                                    518 ;	spillPairReg hl
                                    519 ;../../../include/gb/gb.h:1358: VBK_REG = VBK_ATTRIBUTES;
    00000249 3E 01            [ 8]  520 	ld	a, #0x01
    0000024B E0r00            [12]  521 	ldh	(_VBK_REG + 0), a
                                    522 ;../../../include/gb/gb.h:1359: set_bkg_submap(x, y, w, h, map, map_w);
    0000024D 3E 9C            [ 8]  523 	ld	a, #0x9c
    0000024F F5               [16]  524 	push	af
    00000250 33               [ 8]  525 	inc	sp
    00000251 C5               [16]  526 	push	bc
    00000252 1E 01            [ 8]  527 	ld	e, #0x01
    00000254 D5               [16]  528 	push	de
    00000255 E5               [16]  529 	push	hl
    00000256 CDr00r00         [24]  530 	call	_set_bkg_submap
    00000259 E8 07            [16]  531 	add	sp, #7
                                    532 ;../../../include/gb/gb.h:1360: VBK_REG = VBK_TILES;
    0000025B AF               [ 4]  533 	xor	a, a
    0000025C E0r00            [12]  534 	ldh	(_VBK_REG + 0), a
                                    535 ;src/large_map.c:142: set_submap_attributes(
    0000025E C3rEBr02         [16]  536 	jp	00112$
    00000261                        537 00111$:
                                    538 ;src/large_map.c:152: if ((bigmap_mapWidth - DEVICE_SCREEN_WIDTH) > map_pos_x)
    00000261 FAr09r00         [16]  539 	ld	a, (#_map_pos_x)
    00000264 D6 88            [ 8]  540 	sub	a, #0x88
    00000266 D2rEBr02         [16]  541 	jp	NC, 00112$
                                    542 ;src/large_map.c:154: set_submap_indices(
    00000269 11r00r00         [12]  543 	ld	de, #_bigmap_map
    0000026C 79               [ 4]  544 	ld	a, c
    0000026D B7               [ 4]  545 	or	a, a
    0000026E 28 04            [12]  546 	jr	Z, 00142$
    00000270 06 13            [ 8]  547 	ld	b, #0x13
    00000272 18 03            [12]  548 	jr	00143$
    00000274                        549 00142$:
    00000274 F8 01            [12]  550 	ldhl	sp,	#1
    00000276 46               [ 8]  551 	ld	b, (hl)
    00000277                        552 00143$:
                                    553 ;src/large_map.c:65: return map_pos_x + DEVICE_SCREEN_WIDTH;
    00000277 F8 00            [12]  554 	ldhl	sp,	#0
    00000279 7E               [ 8]  555 	ld	a, (hl)
    0000027A C6 14            [ 8]  556 	add	a, #0x14
                                    557 ;src/large_map.c:154: set_submap_indices(
    0000027C 26 9C            [ 8]  558 	ld	h, #0x9c
                                    559 ;	spillPairReg hl
                                    560 ;	spillPairReg hl
    0000027E E5               [16]  561 	push	hl
    0000027F 33               [ 8]  562 	inc	sp
    00000280 D5               [16]  563 	push	de
    00000281 C5               [16]  564 	push	bc
    00000282 33               [ 8]  565 	inc	sp
    00000283 26 01            [ 8]  566 	ld	h, #0x01
                                    567 ;	spillPairReg hl
                                    568 ;	spillPairReg hl
    00000285 E5               [16]  569 	push	hl
    00000286 33               [ 8]  570 	inc	sp
    00000287 21r0Ar00         [12]  571 	ld	hl, #_map_pos_y
    0000028A 66               [ 8]  572 	ld	h, (hl)
                                    573 ;	spillPairReg hl
                                    574 ;	spillPairReg hl
    0000028B E5               [16]  575 	push	hl
    0000028C 33               [ 8]  576 	inc	sp
    0000028D F5               [16]  577 	push	af
    0000028E 33               [ 8]  578 	inc	sp
    0000028F CDr00r00         [24]  579 	call	_set_bkg_submap
    00000292 E8 07            [16]  580 	add	sp, #7
                                    581 ;src/large_map.c:161: set_submap_attributes(
    00000294 21r0Ar00         [12]  582 	ld	hl, #_map_pos_y
    00000297 4E               [ 8]  583 	ld	c, (hl)
    00000298 06 00            [ 8]  584 	ld	b, #0x00
    0000029A 3E 42            [ 8]  585 	ld	a, #0x42
    0000029C 91               [ 4]  586 	sub	a, c
    0000029D 4F               [ 4]  587 	ld	c, a
    0000029E 9F               [ 4]  588 	sbc	a, a
    0000029F 90               [ 4]  589 	sub	a, b
    000002A0 47               [ 4]  590 	ld	b, a
    000002A1 58               [ 4]  591 	ld	e, b
    000002A2 16 00            [ 8]  592 	ld	d, #0x00
    000002A4 3E 13            [ 8]  593 	ld	a, #0x13
    000002A6 B9               [ 4]  594 	cp	a, c
    000002A7 3E 00            [ 8]  595 	ld	a, #0x00
    000002A9 98               [ 4]  596 	sbc	a, b
    000002AA CB 7B            [ 8]  597 	bit	7, e
    000002AC 28 07            [12]  598 	jr	Z, 00256$
    000002AE CB 7A            [ 8]  599 	bit	7, d
    000002B0 20 08            [12]  600 	jr	NZ, 00257$
    000002B2 BF               [ 4]  601 	cp	a, a
    000002B3 18 05            [12]  602 	jr	00257$
    000002B5                        603 00256$:
    000002B5 CB 7A            [ 8]  604 	bit	7, d
    000002B7 28 01            [12]  605 	jr	Z, 00257$
    000002B9 37               [ 4]  606 	scf
    000002BA                        607 00257$:
    000002BA 30 04            [12]  608 	jr	NC, 00144$
    000002BC 0E 13            [ 8]  609 	ld	c, #0x13
    000002BE 18 07            [12]  610 	jr	00145$
    000002C0                        611 00144$:
    000002C0 3E 42            [ 8]  612 	ld	a, #0x42
    000002C2 21r0Ar00         [12]  613 	ld	hl, #_map_pos_y
    000002C5 96               [ 8]  614 	sub	a, (hl)
    000002C6 4F               [ 4]  615 	ld	c, a
    000002C7                        616 00145$:
    000002C7 21r0Ar00         [12]  617 	ld	hl, #_map_pos_y
    000002CA 46               [ 8]  618 	ld	b, (hl)
    000002CB FAr09r00         [16]  619 	ld	a, (#_map_pos_x)
                                    620 ;src/large_map.c:65: return map_pos_x + DEVICE_SCREEN_WIDTH;
    000002CE C6 14            [ 8]  621 	add	a, #0x14
    000002D0 5F               [ 4]  622 	ld	e, a
                                    623 ;../../../include/gb/gb.h:1358: VBK_REG = VBK_ATTRIBUTES;
    000002D1 3E 01            [ 8]  624 	ld	a, #0x01
    000002D3 E0r00            [12]  625 	ldh	(_VBK_REG + 0), a
                                    626 ;../../../include/gb/gb.h:1359: set_bkg_submap(x, y, w, h, map, map_w);
    000002D5 3E 9C            [ 8]  627 	ld	a, #0x9c
    000002D7 F5               [16]  628 	push	af
    000002D8 33               [ 8]  629 	inc	sp
    000002D9 21r00r00         [12]  630 	ld	hl, #_bigmap_map
    000002DC E5               [16]  631 	push	hl
    000002DD 61               [ 4]  632 	ld	h, c
    000002DE 2E 01            [ 8]  633 	ld	l, #0x01
    000002E0 E5               [16]  634 	push	hl
    000002E1 4B               [ 4]  635 	ld	c, e
    000002E2 C5               [16]  636 	push	bc
    000002E3 CDr00r00         [24]  637 	call	_set_bkg_submap
    000002E6 E8 07            [16]  638 	add	sp, #7
                                    639 ;../../../include/gb/gb.h:1360: VBK_REG = VBK_TILES;
    000002E8 AF               [ 4]  640 	xor	a, a
    000002E9 E0r00            [12]  641 	ldh	(_VBK_REG + 0), a
                                    642 ;src/large_map.c:161: set_submap_attributes(
    000002EB                        643 00112$:
                                    644 ;src/large_map.c:170: old_map_pos_x = map_pos_x;
    000002EB FAr09r00         [16]  645 	ld	a, (#_map_pos_x)
    000002EE EAr0Br00         [16]  646 	ld	(#_old_map_pos_x),a
    000002F1                        647 00114$:
                                    648 ;src/large_map.c:173: old_camera_x = camera_x, old_camera_y = camera_y;
    000002F1 FAr01r00         [16]  649 	ld	a, (#_camera_x)
    000002F4 EAr05r00         [16]  650 	ld	(#_old_camera_x),a
    000002F7 FAr02r00         [16]  651 	ld	a, (#_camera_x + 1)
    000002FA EAr06r00         [16]  652 	ld	(#_old_camera_x + 1),a
    000002FD FAr03r00         [16]  653 	ld	a, (#_camera_y)
    00000300 EAr07r00         [16]  654 	ld	(#_old_camera_y),a
    00000303 FAr04r00         [16]  655 	ld	a, (#_camera_y + 1)
    00000306 EAr08r00         [16]  656 	ld	(#_old_camera_y + 1),a
                                    657 ;src/large_map.c:174: }
    00000309 33               [ 8]  658 	inc	sp
    0000030A 33               [ 8]  659 	inc	sp
    0000030B C9               [16]  660 	ret
                                    661 ;src/large_map.c:177: void init_camera(uint8_t x, uint8_t y) {
                                    662 ;	---------------------------------
                                    663 ; Function init_camera
                                    664 ; ---------------------------------
    0000030C                        665 _init_camera::
    0000030C 47               [ 4]  666 	ld	b, a
    0000030D 4B               [ 4]  667 	ld	c, e
                                    668 ;src/large_map.c:180: set_native_tile_data(0, bigmap_TILE_COUNT, bigmap_tiles);
                                    669 ;../../../include/gb/gb.h:2134: set_bkg_data(first_tile, nb_tiles, data);
    0000030E 11r00r00         [12]  670 	ld	de, #_bigmap_tiles
    00000311 D5               [16]  671 	push	de
    00000312 21 00 EA         [12]  672 	ld	hl, #0xea00
    00000315 E5               [16]  673 	push	hl
    00000316 CDr00r00         [24]  674 	call	_set_bkg_data
    00000319 E8 04            [16]  675 	add	sp, #4
                                    676 ;src/large_map.c:188: if (_cpu == CGB_TYPE) {
    0000031B FAr00r00         [16]  677 	ld	a, (#__cpu)
    0000031E D6 11            [ 8]  678 	sub	a, #0x11
    00000320 20 0F            [12]  679 	jr	NZ, 00102$
                                    680 ;src/large_map.c:189: set_bkg_palette(BKGF_CGB_PAL0, bigmap_PALETTE_COUNT, bigmap_palettes);
    00000322 C5               [16]  681 	push	bc
    00000323 11r00r00         [12]  682 	ld	de, #_bigmap_palettes
    00000326 D5               [16]  683 	push	de
    00000327 21 00 04         [12]  684 	ld	hl, #0x400
    0000032A E5               [16]  685 	push	hl
    0000032B CDr00r00         [24]  686 	call	_set_bkg_palette
    0000032E E8 04            [16]  687 	add	sp, #4
    00000330 C1               [12]  688 	pop	bc
    00000331                        689 00102$:
                                    690 ;src/large_map.c:197: camera_x = x;
    00000331 21r01r00         [12]  691 	ld	hl, #_camera_x
    00000334 78               [ 4]  692 	ld	a, b
    00000335 22               [ 8]  693 	ld	(hl+), a
    00000336 36 00            [12]  694 	ld	(hl), #0x00
                                    695 ;src/large_map.c:198: camera_y = y;
    00000338 21r03r00         [12]  696 	ld	hl, #_camera_y
    0000033B 79               [ 4]  697 	ld	a, c
    0000033C 22               [ 8]  698 	ld	(hl+), a
    0000033D 36 00            [12]  699 	ld	(hl), #0x00
                                    700 ;src/large_map.c:200: if (camera_x > camera_max_x) camera_x = camera_max_x;
    0000033F 21r01r00         [12]  701 	ld	hl, #_camera_x
    00000342 2A               [ 8]  702 	ld	a, (hl+)
    00000343 4F               [ 4]  703 	ld	c, a
    00000344 46               [ 8]  704 	ld	b, (hl)
    00000345 3E 40            [ 8]  705 	ld	a, #0x40
    00000347 B9               [ 4]  706 	cp	a, c
    00000348 3E 04            [ 8]  707 	ld	a, #0x04
    0000034A 98               [ 4]  708 	sbc	a, b
    0000034B 30 06            [12]  709 	jr	NC, 00104$
    0000034D 2B               [ 8]  710 	dec	hl
    0000034E 3E 40            [ 8]  711 	ld	a, #0x40
    00000350 22               [ 8]  712 	ld	(hl+), a
    00000351 36 04            [12]  713 	ld	(hl), #0x04
    00000353                        714 00104$:
                                    715 ;src/large_map.c:201: if (camera_y > camera_max_y) camera_y = camera_max_y;
    00000353 21r03r00         [12]  716 	ld	hl, #_camera_y
    00000356 2A               [ 8]  717 	ld	a, (hl+)
    00000357 4F               [ 4]  718 	ld	c, a
    00000358 46               [ 8]  719 	ld	b, (hl)
    00000359 3E 80            [ 8]  720 	ld	a, #0x80
    0000035B B9               [ 4]  721 	cp	a, c
    0000035C 3E 01            [ 8]  722 	ld	a, #0x01
    0000035E 98               [ 4]  723 	sbc	a, b
    0000035F 30 06            [12]  724 	jr	NC, 00106$
    00000361 2B               [ 8]  725 	dec	hl
    00000362 3E 80            [ 8]  726 	ld	a, #0x80
    00000364 22               [ 8]  727 	ld	(hl+), a
    00000365 36 01            [12]  728 	ld	(hl), #0x01
    00000367                        729 00106$:
                                    730 ;src/large_map.c:202: old_camera_x = camera_x; old_camera_y = camera_y;
    00000367 FAr01r00         [16]  731 	ld	a, (#_camera_x)
    0000036A EAr05r00         [16]  732 	ld	(#_old_camera_x),a
    0000036D FAr02r00         [16]  733 	ld	a, (#_camera_x + 1)
    00000370 EAr06r00         [16]  734 	ld	(#_old_camera_x + 1),a
    00000373 FAr03r00         [16]  735 	ld	a, (#_camera_y)
    00000376 EAr07r00         [16]  736 	ld	(#_old_camera_y),a
    00000379 FAr04r00         [16]  737 	ld	a, (#_camera_y + 1)
    0000037C EAr08r00         [16]  738 	ld	(#_old_camera_y + 1),a
                                    739 ;src/large_map.c:204: map_pos_x = camera_x >> 3;
    0000037F 21r01r00         [12]  740 	ld	hl, #_camera_x
    00000382 2A               [ 8]  741 	ld	a, (hl+)
    00000383 4F               [ 4]  742 	ld	c, a
    00000384 46               [ 8]  743 	ld	b, (hl)
    00000385 CB 38            [ 8]  744 	srl	b
    00000387 CB 19            [ 8]  745 	rr	c
    00000389 CB 38            [ 8]  746 	srl	b
    0000038B CB 19            [ 8]  747 	rr	c
    0000038D CB 38            [ 8]  748 	srl	b
    0000038F CB 19            [ 8]  749 	rr	c
    00000391 21r09r00         [12]  750 	ld	hl, #_map_pos_x
    00000394 71               [ 8]  751 	ld	(hl), c
                                    752 ;src/large_map.c:205: map_pos_y = camera_y >> 3;
    00000395 21r03r00         [12]  753 	ld	hl, #_camera_y
    00000398 2A               [ 8]  754 	ld	a, (hl+)
    00000399 4F               [ 4]  755 	ld	c, a
    0000039A 46               [ 8]  756 	ld	b, (hl)
    0000039B CB 38            [ 8]  757 	srl	b
    0000039D CB 19            [ 8]  758 	rr	c
    0000039F CB 38            [ 8]  759 	srl	b
    000003A1 CB 19            [ 8]  760 	rr	c
    000003A3 CB 38            [ 8]  761 	srl	b
    000003A5 CB 19            [ 8]  762 	rr	c
    000003A7 21r0Ar00         [12]  763 	ld	hl, #_map_pos_y
    000003AA 71               [ 8]  764 	ld	(hl), c
                                    765 ;src/large_map.c:206: old_map_pos_x = old_map_pos_y = 255;
    000003AB 21r0Cr00         [12]  766 	ld	hl, #_old_map_pos_y
    000003AE 36 FF            [12]  767 	ld	(hl), #0xff
    000003B0 21r0Br00         [12]  768 	ld	hl, #_old_map_pos_x
    000003B3 36 FF            [12]  769 	ld	(hl), #0xff
                                    770 ;src/large_map.c:207: move_bkg(camera_x, WRAP_SCROLL_Y(camera_y + SCROLL_Y_OFFSET));
    000003B5 21r03r00         [12]  771 	ld	hl, #_camera_y
    000003B8 4E               [ 8]  772 	ld	c, (hl)
    000003B9 FAr01r00         [16]  773 	ld	a, (#_camera_x)
    000003BC E0r00            [12]  774 	ldh	(_SCX_REG + 0), a
                                    775 ;../../../include/gb/gb.h:1449: SCX_REG=x, SCY_REG=y;
    000003BE 79               [ 4]  776 	ld	a, c
    000003BF E0r00            [12]  777 	ldh	(_SCY_REG + 0), a
                                    778 ;src/large_map.c:210: set_submap_indices(
    000003C1 01r00r00         [12]  779 	ld	bc, #_bigmap_map+0
    000003C4 21r0Ar00         [12]  780 	ld	hl, #_map_pos_y
    000003C7 5E               [ 8]  781 	ld	e, (hl)
    000003C8 16 00            [ 8]  782 	ld	d, #0x00
    000003CA 3E 42            [ 8]  783 	ld	a, #0x42
    000003CC 93               [ 4]  784 	sub	a, e
    000003CD 5F               [ 4]  785 	ld	e, a
    000003CE 9F               [ 4]  786 	sbc	a, a
    000003CF 92               [ 4]  787 	sub	a, d
    000003D0 57               [ 4]  788 	ld	d, a
    000003D1 3E 13            [ 8]  789 	ld	a, #0x13
    000003D3 BB               [ 4]  790 	cp	a, e
    000003D4 3E 00            [ 8]  791 	ld	a, #0x00
    000003D6 9A               [ 4]  792 	sbc	a, d
    000003D7 30 04            [12]  793 	jr	NC, 00116$
    000003D9 16 13            [ 8]  794 	ld	d, #0x13
    000003DB 18 07            [12]  795 	jr	00117$
    000003DD                        796 00116$:
    000003DD 3E 42            [ 8]  797 	ld	a, #0x42
    000003DF 21r0Ar00         [12]  798 	ld	hl, #_map_pos_y
    000003E2 96               [ 8]  799 	sub	a, (hl)
    000003E3 57               [ 4]  800 	ld	d, a
    000003E4                        801 00117$:
    000003E4 21r09r00         [12]  802 	ld	hl, #_map_pos_x
    000003E7 6E               [ 8]  803 	ld	l, (hl)
                                    804 ;	spillPairReg hl
                                    805 ;	spillPairReg hl
    000003E8 26 00            [ 8]  806 	ld	h, #0x00
                                    807 ;	spillPairReg hl
                                    808 ;	spillPairReg hl
    000003EA 3E 9C            [ 8]  809 	ld	a, #0x9c
    000003EC 95               [ 4]  810 	sub	a, l
    000003ED 5F               [ 4]  811 	ld	e, a
    000003EE 9F               [ 4]  812 	sbc	a, a
    000003EF 94               [ 4]  813 	sub	a, h
    000003F0 6F               [ 4]  814 	ld	l, a
                                    815 ;	spillPairReg hl
                                    816 ;	spillPairReg hl
    000003F1 3E 15            [ 8]  817 	ld	a, #0x15
    000003F3 BB               [ 4]  818 	cp	a, e
    000003F4 3E 00            [ 8]  819 	ld	a, #0x00
    000003F6 9D               [ 4]  820 	sbc	a, l
    000003F7 30 04            [12]  821 	jr	NC, 00118$
    000003F9 3E 15            [ 8]  822 	ld	a, #0x15
    000003FB 18 06            [12]  823 	jr	00119$
    000003FD                        824 00118$:
    000003FD 3E 9C            [ 8]  825 	ld	a, #0x9c
    000003FF 21r09r00         [12]  826 	ld	hl, #_map_pos_x
    00000402 96               [ 8]  827 	sub	a, (hl)
    00000403                        828 00119$:
    00000403 C5               [16]  829 	push	bc
    00000404 26 9C            [ 8]  830 	ld	h, #0x9c
                                    831 ;	spillPairReg hl
                                    832 ;	spillPairReg hl
    00000406 E5               [16]  833 	push	hl
    00000407 33               [ 8]  834 	inc	sp
    00000408 21r00r00         [12]  835 	ld	hl, #_bigmap_map
    0000040B E5               [16]  836 	push	hl
    0000040C D5               [16]  837 	push	de
    0000040D 33               [ 8]  838 	inc	sp
    0000040E F5               [16]  839 	push	af
    0000040F 33               [ 8]  840 	inc	sp
    00000410 FAr0Ar00         [16]  841 	ld	a, (#_map_pos_y)
    00000413 67               [ 4]  842 	ld	h, a
    00000414 FAr09r00         [16]  843 	ld	a, (#_map_pos_x)
    00000417 6F               [ 4]  844 	ld	l, a
    00000418 E5               [16]  845 	push	hl
    00000419 CDr00r00         [24]  846 	call	_set_bkg_submap
    0000041C E8 07            [16]  847 	add	sp, #7
    0000041E C1               [12]  848 	pop	bc
                                    849 ;src/large_map.c:218: set_submap_attributes(
    0000041F 21r0Ar00         [12]  850 	ld	hl, #_map_pos_y
    00000422 5E               [ 8]  851 	ld	e, (hl)
    00000423 16 00            [ 8]  852 	ld	d, #0x00
    00000425 3E 42            [ 8]  853 	ld	a, #0x42
    00000427 93               [ 4]  854 	sub	a, e
    00000428 5F               [ 4]  855 	ld	e, a
    00000429 9F               [ 4]  856 	sbc	a, a
    0000042A 92               [ 4]  857 	sub	a, d
    0000042B 57               [ 4]  858 	ld	d, a
    0000042C 3E 13            [ 8]  859 	ld	a, #0x13
    0000042E BB               [ 4]  860 	cp	a, e
    0000042F 3E 00            [ 8]  861 	ld	a, #0x00
    00000431 9A               [ 4]  862 	sbc	a, d
    00000432 30 04            [12]  863 	jr	NC, 00120$
    00000434 1E 13            [ 8]  864 	ld	e, #0x13
    00000436 18 07            [12]  865 	jr	00121$
    00000438                        866 00120$:
    00000438 3E 42            [ 8]  867 	ld	a, #0x42
    0000043A 21r0Ar00         [12]  868 	ld	hl, #_map_pos_y
    0000043D 96               [ 8]  869 	sub	a, (hl)
    0000043E 5F               [ 4]  870 	ld	e, a
    0000043F                        871 00121$:
    0000043F 21r09r00         [12]  872 	ld	hl, #_map_pos_x
    00000442 56               [ 8]  873 	ld	d, (hl)
    00000443 26 00            [ 8]  874 	ld	h, #0x00
                                    875 ;	spillPairReg hl
                                    876 ;	spillPairReg hl
    00000445 3E 9C            [ 8]  877 	ld	a, #0x9c
    00000447 92               [ 4]  878 	sub	a, d
    00000448 6F               [ 4]  879 	ld	l, a
                                    880 ;	spillPairReg hl
                                    881 ;	spillPairReg hl
    00000449 9F               [ 4]  882 	sbc	a, a
    0000044A 94               [ 4]  883 	sub	a, h
    0000044B 67               [ 4]  884 	ld	h, a
                                    885 ;	spillPairReg hl
                                    886 ;	spillPairReg hl
    0000044C 3E 15            [ 8]  887 	ld	a, #0x15
    0000044E BD               [ 4]  888 	cp	a, l
    0000044F 3E 00            [ 8]  889 	ld	a, #0x00
    00000451 9C               [ 4]  890 	sbc	a, h
    00000452 30 04            [12]  891 	jr	NC, 00122$
    00000454 16 15            [ 8]  892 	ld	d, #0x15
    00000456 18 07            [12]  893 	jr	00123$
    00000458                        894 00122$:
    00000458 3E 9C            [ 8]  895 	ld	a, #0x9c
    0000045A 21r09r00         [12]  896 	ld	hl, #_map_pos_x
    0000045D 96               [ 8]  897 	sub	a, (hl)
    0000045E 57               [ 4]  898 	ld	d, a
    0000045F                        899 00123$:
    0000045F 21r0Ar00         [12]  900 	ld	hl, #_map_pos_y
    00000462 6E               [ 8]  901 	ld	l, (hl)
                                    902 ;	spillPairReg hl
                                    903 ;	spillPairReg hl
    00000463 FAr09r00         [16]  904 	ld	a, (_map_pos_x)
    00000466 67               [ 4]  905 	ld	h, a
                                    906 ;	spillPairReg hl
                                    907 ;	spillPairReg hl
                                    908 ;../../../include/gb/gb.h:1358: VBK_REG = VBK_ATTRIBUTES;
    00000467 3E 01            [ 8]  909 	ld	a, #0x01
    00000469 E0r00            [12]  910 	ldh	(_VBK_REG + 0), a
                                    911 ;../../../include/gb/gb.h:1359: set_bkg_submap(x, y, w, h, map, map_w);
    0000046B 3E 9C            [ 8]  912 	ld	a, #0x9c
    0000046D F5               [16]  913 	push	af
    0000046E 33               [ 8]  914 	inc	sp
    0000046F C5               [16]  915 	push	bc
    00000470 7B               [ 4]  916 	ld	a, e
    00000471 F5               [16]  917 	push	af
    00000472 33               [ 8]  918 	inc	sp
    00000473 5D               [ 4]  919 	ld	e, l
    00000474 D5               [16]  920 	push	de
    00000475 E5               [16]  921 	push	hl
    00000476 33               [ 8]  922 	inc	sp
    00000477 CDr00r00         [24]  923 	call	_set_bkg_submap
    0000047A E8 07            [16]  924 	add	sp, #7
                                    925 ;../../../include/gb/gb.h:1360: VBK_REG = VBK_TILES;
    0000047C AF               [ 4]  926 	xor	a, a
    0000047D E0r00            [12]  927 	ldh	(_VBK_REG + 0), a
                                    928 ;src/large_map.c:226: redraw = FALSE;
    0000047F 21r0Dr00         [12]  929 	ld	hl, #_redraw
    00000482 36 00            [12]  930 	ld	(hl), #0x00
                                    931 ;src/large_map.c:228: move_bkg(camera_x, WRAP_SCROLL_Y(camera_y + SCROLL_Y_OFFSET));
    00000484 21r03r00         [12]  932 	ld	hl, #_camera_y
    00000487 4E               [ 8]  933 	ld	c, (hl)
    00000488 FAr01r00         [16]  934 	ld	a, (#_camera_x)
    0000048B E0r00            [12]  935 	ldh	(_SCX_REG + 0), a
                                    936 ;../../../include/gb/gb.h:1449: SCX_REG=x, SCY_REG=y;
    0000048D 79               [ 4]  937 	ld	a, c
    0000048E E0r00            [12]  938 	ldh	(_SCY_REG + 0), a
                                    939 ;src/large_map.c:228: move_bkg(camera_x, WRAP_SCROLL_Y(camera_y + SCROLL_Y_OFFSET));
                                    940 ;src/large_map.c:235: }
    00000490 C9               [16]  941 	ret
                                    942 ;src/large_map.c:237: void main(void){
                                    943 ;	---------------------------------
                                    944 ; Function main
                                    945 ; ---------------------------------
    00000491                        946 _main::
                                    947 ;src/large_map.c:238: DISPLAY_OFF;
    00000491 CDr00r00         [24]  948 	call	_display_off
                                    949 ;src/large_map.c:239: init_camera(0, 0);
    00000494 AF               [ 4]  950 	xor	a, a
    00000495 5F               [ 4]  951 	ld	e, a
    00000496 CDr0Cr03         [24]  952 	call	_init_camera
                                    953 ;src/large_map.c:241: SHOW_BKG;
    00000499 F0r00            [12]  954 	ldh	a, (_LCDC_REG + 0)
    0000049B F6 01            [ 8]  955 	or	a, #0x01
    0000049D E0r00            [12]  956 	ldh	(_LCDC_REG + 0), a
                                    957 ;src/large_map.c:242: DISPLAY_ON;
    0000049F F0r00            [12]  958 	ldh	a, (_LCDC_REG + 0)
    000004A1 F6 80            [ 8]  959 	or	a, #0x80
    000004A3 E0r00            [12]  960 	ldh	(_LCDC_REG + 0), a
                                    961 ;src/large_map.c:243: while (TRUE) {
    000004A5                        962 00123$:
                                    963 ;src/large_map.c:244: joy = joypad();
    000004A5 CDr00r00         [24]  964 	call	_joypad
    000004A8 21r00r00         [12]  965 	ld	hl, #_joy
    000004AB 77               [ 8]  966 	ld	(hl), a
                                    967 ;src/large_map.c:246: if (joy & J_UP) {
    000004AC 4E               [ 8]  968 	ld	c, (hl)
    000004AD CB 51            [ 8]  969 	bit	2, c
    000004AF 28 16            [12]  970 	jr	Z, 00108$
                                    971 ;src/large_map.c:247: if (camera_y) {
    000004B1 21r04r00         [12]  972 	ld	hl, #_camera_y + 1
    000004B4 3A               [ 8]  973 	ld	a, (hl-)
    000004B5 B6               [ 8]  974 	or	a, (hl)
    000004B6 28 2A            [12]  975 	jr	Z, 00109$
                                    976 ;src/large_map.c:248: camera_y--;
    000004B8 2A               [ 8]  977 	ld	a, (hl+)
    000004B9 5F               [ 4]  978 	ld	e, a
    000004BA 3A               [ 8]  979 	ld	a, (hl-)
    000004BB 57               [ 4]  980 	ld	d, a
    000004BC 1B               [ 8]  981 	dec	de
    000004BD 7B               [ 4]  982 	ld	a, e
    000004BE 22               [ 8]  983 	ld	(hl+), a
    000004BF 72               [ 8]  984 	ld	(hl), d
                                    985 ;src/large_map.c:249: redraw = TRUE;
    000004C0 21r0Dr00         [12]  986 	ld	hl, #_redraw
    000004C3 36 01            [12]  987 	ld	(hl), #0x01
    000004C5 18 1B            [12]  988 	jr	00109$
    000004C7                        989 00108$:
                                    990 ;src/large_map.c:251: } else if (joy & J_DOWN) {
    000004C7 CB 59            [ 8]  991 	bit	3, c
    000004C9 28 17            [12]  992 	jr	Z, 00109$
                                    993 ;src/large_map.c:252: if (camera_y < camera_max_y) {
    000004CB 21r03r00         [12]  994 	ld	hl, #_camera_y
    000004CE 2A               [ 8]  995 	ld	a, (hl+)
    000004CF 5E               [ 8]  996 	ld	e, (hl)
    000004D0 D6 80            [ 8]  997 	sub	a, #0x80
    000004D2 7B               [ 4]  998 	ld	a, e
    000004D3 DE 01            [ 8]  999 	sbc	a, #0x01
    000004D5 30 0B            [12] 1000 	jr	NC, 00109$
                                   1001 ;src/large_map.c:253: camera_y++;
    000004D7 2B               [ 8] 1002 	dec	hl
    000004D8 34               [12] 1003 	inc	(hl)
    000004D9 20 02            [12] 1004 	jr	NZ, 00199$
    000004DB 23               [ 8] 1005 	inc	hl
    000004DC 34               [12] 1006 	inc	(hl)
    000004DD                       1007 00199$:
                                   1008 ;src/large_map.c:254: redraw = TRUE;
    000004DD 21r0Dr00         [12] 1009 	ld	hl, #_redraw
    000004E0 36 01            [12] 1010 	ld	(hl), #0x01
    000004E2                       1011 00109$:
                                   1012 ;src/large_map.c:258: if (joy & J_LEFT) {
    000004E2 CB 49            [ 8] 1013 	bit	1, c
    000004E4 28 16            [12] 1014 	jr	Z, 00117$
                                   1015 ;src/large_map.c:259: if (camera_x) {
    000004E6 21r02r00         [12] 1016 	ld	hl, #_camera_x + 1
    000004E9 3A               [ 8] 1017 	ld	a, (hl-)
    000004EA B6               [ 8] 1018 	or	a, (hl)
    000004EB 28 2C            [12] 1019 	jr	Z, 00118$
                                   1020 ;src/large_map.c:260: camera_x--;
    000004ED 2A               [ 8] 1021 	ld	a, (hl+)
    000004EE 5F               [ 4] 1022 	ld	e, a
    000004EF 3A               [ 8] 1023 	ld	a, (hl-)
    000004F0 57               [ 4] 1024 	ld	d, a
    000004F1 1B               [ 8] 1025 	dec	de
    000004F2 7B               [ 4] 1026 	ld	a, e
    000004F3 22               [ 8] 1027 	ld	(hl+), a
    000004F4 72               [ 8] 1028 	ld	(hl), d
                                   1029 ;src/large_map.c:261: redraw = TRUE;
    000004F5 21r0Dr00         [12] 1030 	ld	hl, #_redraw
    000004F8 36 01            [12] 1031 	ld	(hl), #0x01
    000004FA 18 1D            [12] 1032 	jr	00118$
    000004FC                       1033 00117$:
                                   1034 ;src/large_map.c:263: } else if (joy & J_RIGHT) {
    000004FC CB 41            [ 8] 1035 	bit	0, c
    000004FE 28 19            [12] 1036 	jr	Z, 00118$
                                   1037 ;src/large_map.c:264: if (camera_x < camera_max_x) {
    00000500 21r01r00         [12] 1038 	ld	hl, #_camera_x
    00000503 2A               [ 8] 1039 	ld	a, (hl+)
    00000504 4F               [ 4] 1040 	ld	c, a
    00000505 46               [ 8] 1041 	ld	b, (hl)
    00000506 79               [ 4] 1042 	ld	a, c
    00000507 D6 40            [ 8] 1043 	sub	a, #0x40
    00000509 78               [ 4] 1044 	ld	a, b
    0000050A DE 04            [ 8] 1045 	sbc	a, #0x04
    0000050C 30 0B            [12] 1046 	jr	NC, 00118$
                                   1047 ;src/large_map.c:265: camera_x++;
    0000050E 2B               [ 8] 1048 	dec	hl
    0000050F 34               [12] 1049 	inc	(hl)
    00000510 20 02            [12] 1050 	jr	NZ, 00202$
    00000512 23               [ 8] 1051 	inc	hl
    00000513 34               [12] 1052 	inc	(hl)
    00000514                       1053 00202$:
                                   1054 ;src/large_map.c:266: redraw = TRUE;
    00000514 21r0Dr00         [12] 1055 	ld	hl, #_redraw
    00000517 36 01            [12] 1056 	ld	(hl), #0x01
    00000519                       1057 00118$:
                                   1058 ;src/large_map.c:269: if (redraw) {
    00000519 FAr0Dr00         [16] 1059 	ld	a, (#_redraw)
    0000051C B7               [ 4] 1060 	or	a, a
    0000051D 28 0E            [12] 1061 	jr	Z, 00120$
                                   1062 ;src/large_map.c:270: vsync();
    0000051F CDr00r00         [24] 1063 	call	_vsync
                                   1064 ;src/large_map.c:271: set_camera();
    00000522 CDr00r00         [24] 1065 	call	_set_camera
                                   1066 ;src/large_map.c:272: redraw = FALSE;
    00000525 21r0Dr00         [12] 1067 	ld	hl, #_redraw
    00000528 36 00            [12] 1068 	ld	(hl), #0x00
    0000052A C3rA5r04         [16] 1069 	jp	00123$
    0000052D                       1070 00120$:
                                   1071 ;src/large_map.c:273: } else vsync();
    0000052D CDr00r00         [24] 1072 	call	_vsync
                                   1073 ;src/large_map.c:275: }
    00000530 C3rA5r04         [16] 1074 	jp	00123$
                                   1075 	.area _CODE
                                   1076 	.area _INITIALIZER
                                   1077 	.area _CABS (ABS)
